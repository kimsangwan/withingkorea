{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/toastEditor/ToastEditor.js\";\nimport React, { useRef } from \"react\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"@toast-ui/editor/dist/toastui-editor.css\";\nimport { Editor } from \"@toast-ui/react-editor\";\n\nconst ToastEditor = props => {\n  const editorRef = useRef();\n  const [text, setText] = useState(\"\");\n\n  const onChangeHandler = () => {\n    const content = editorRef.current.getInstance().getHtml();\n\n    if (props.value) {\n      props.editorContent(content, props.value);\n    } else {\n      props.editorContent(content);\n    }\n  };\n\n  const imageHandler = async (file, callback) => {\n    // 파일 업로드\n    const form = new FormData();\n    form.append(\"type\", \"A\");\n    form.append(\"file\", file);\n    const {\n      data\n    } = await axios.post(\"/api/v1/File/uploadFile\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    });\n    callback(data.data);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Editor // data={\"ajshjsdjhsdhjsdhj\"}\n  , {\n    initialValue: text,\n    previewStyle: \"vertical\",\n    height: \"400px\",\n    initialEditType: \"wysiwyg\",\n    useCommandShortcut: true,\n    exts: [{\n      name: \"chart\",\n      minWidth: 100,\n      maxWidth: 600,\n      minHeight: 100,\n      maxHeight: 300\n    }, \"scrollSync\", \"colorSyntax\", \"uml\", \"mark\", \"table\"],\n    onChange: onChangeHandler,\n    ref: editorRef,\n    hooks: {\n      addImageBlobHook: imageHandler\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ToastEditor;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/toastEditor/ToastEditor.js"],"names":["React","useRef","axios","Cookie","Editor","ToastEditor","props","editorRef","text","setText","useState","onChangeHandler","content","current","getInstance","getHtml","value","editorContent","imageHandler","file","callback","form","FormData","append","data","post","headers","Authorization","get","name","minWidth","maxWidth","minHeight","maxHeight","addImageBlobHook"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,+BAAP;AACA,OAAO,0CAAP;AAEA,SAASC,MAAT,QAAuB,wBAAvB;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAC3B,QAAMC,SAAS,GAAGN,MAAM,EAAxB;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBC,QAAQ,CAAC,EAAD,CAAhC;;AAEA,QAAMC,eAAe,GAAG,MAAM;AAC5B,UAAMC,OAAO,GAAGL,SAAS,CAACM,OAAV,CAAkBC,WAAlB,GAAgCC,OAAhC,EAAhB;;AAEA,QAAIT,KAAK,CAACU,KAAV,EAAiB;AACfV,MAAAA,KAAK,CAACW,aAAN,CAAoBL,OAApB,EAA6BN,KAAK,CAACU,KAAnC;AACD,KAFD,MAEO;AACLV,MAAAA,KAAK,CAACW,aAAN,CAAoBL,OAApB;AACD;AACF,GARD;;AAUA,QAAMM,YAAY,GAAG,OAAOC,IAAP,EAAaC,QAAb,KAA0B;AAC7C;AACA,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoB,GAApB;AACAF,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBJ,IAApB;AAEA,UAAM;AAAEK,MAAAA;AAAF,QAAW,MAAMtB,KAAK,CAACuB,IAAN,CAAW,yBAAX,EAAsCJ,IAAtC,EAA4C;AACjEK,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAExB,MAAM,CAACyB,GAAP,CAAW,OAAX;AADR;AADwD,KAA5C,CAAvB;AAMAR,IAAAA,QAAQ,CAACI,IAAI,CAACA,IAAN,CAAR;AACD,GAbD;;AAeA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD,CACE;AADF;AAEE,IAAA,YAAY,EAAEhB,IAFhB;AAGE,IAAA,YAAY,EAAC,UAHf;AAIE,IAAA,MAAM,EAAC,OAJT;AAKE,IAAA,eAAe,EAAC,SALlB;AAME,IAAA,kBAAkB,EAAE,IANtB;AAOE,IAAA,IAAI,EAAE,CACJ;AACEqB,MAAAA,IAAI,EAAE,OADR;AAEEC,MAAAA,QAAQ,EAAE,GAFZ;AAGEC,MAAAA,QAAQ,EAAE,GAHZ;AAIEC,MAAAA,SAAS,EAAE,GAJb;AAKEC,MAAAA,SAAS,EAAE;AALb,KADI,EAQJ,YARI,EASJ,aATI,EAUJ,KAVI,EAWJ,MAXI,EAYJ,OAZI,CAPR;AAqBE,IAAA,QAAQ,EAAEtB,eArBZ;AAsBE,IAAA,GAAG,EAAEJ,SAtBP;AAuBE,IAAA,KAAK,EAAE;AACL2B,MAAAA,gBAAgB,EAAEhB;AADb,KAvBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AA+BD,CA5DD;;AA8DA,eAAeb,WAAf","sourcesContent":["import React, { useRef } from \"react\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport \"codemirror/lib/codemirror.css\"\nimport \"@toast-ui/editor/dist/toastui-editor.css\"\n\nimport { Editor } from \"@toast-ui/react-editor\"\n\nconst ToastEditor = props => {\n  const editorRef = useRef()\n  const [text, setText] = useState(\"\")\n\n  const onChangeHandler = () => {\n    const content = editorRef.current.getInstance().getHtml()\n\n    if (props.value) {\n      props.editorContent(content, props.value)\n    } else {\n      props.editorContent(content)\n    }\n  }\n\n  const imageHandler = async (file, callback) => {\n    // 파일 업로드\n    const form = new FormData()\n    form.append(\"type\", \"A\")\n    form.append(\"file\", file)\n\n    const { data } = await axios.post(\"/api/v1/File/uploadFile\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    })\n\n    callback(data.data)\n  }\n\n  return (\n    <div>\n      <Editor\n        // data={\"ajshjsdjhsdhjsdhj\"}\n        initialValue={text}\n        previewStyle=\"vertical\"\n        height=\"400px\"\n        initialEditType=\"wysiwyg\"\n        useCommandShortcut={true}\n        exts={[\n          {\n            name: \"chart\",\n            minWidth: 100,\n            maxWidth: 600,\n            minHeight: 100,\n            maxHeight: 300\n          },\n          \"scrollSync\",\n          \"colorSyntax\",\n          \"uml\",\n          \"mark\",\n          \"table\"\n        ]}\n        onChange={onChangeHandler}\n        ref={editorRef}\n        hooks={{\n          addImageBlobHook: imageHandler\n        }}\n      />\n    </div>\n  )\n}\n\nexport default ToastEditor\n"]},"metadata":{},"sourceType":"module"}