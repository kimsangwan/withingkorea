{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/recommendGuid/RecommendGuideZh.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../assets/css/layout.css\";\nimport Breadcrumb from \"../components/common/breadcrumb\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { useHistory } from \"react-router-dom\";\nimport { message } from \"antd\"; // import { reduceHooks } from 'react-table';\n\nconst RecommendGuideZh = () => {\n  const [connectList, setconnectList] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [guideList, setguideList] = useState([]);\n  const [ViewLank, setViewLank] = useState(0);\n  const history = useHistory();\n\n  const searchhandler = () => {\n    if (!searchText) {\n      alert(\"한글자이상입력하세요\");\n      return;\n    }\n\n    const form = new FormData();\n    form.append(\"index\", 1);\n    form.append(\"lang\", \"en\");\n    form.append(\"search\", searchText);\n    axios.post(\"/api/v1/recommend/searchG\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    }).then(response => {\n      console.log(response);\n\n      if (response.data.status === \"success\") {\n        if (response.data.data.count > 0) {\n          setguideList(response.data.data.list);\n        } else {\n          message.warning(\"일치하는 가이드가 없습니다\");\n          setguideList([]);\n        }\n\n        console.log(guideList);\n      }\n    }).catch(err => {\n      message.warning(\"검색한데이터를 불러오지못했습니다\");\n    });\n  };\n\n  const addBtn = (name, profile_img, guide_no, age, lang) => {\n    const userInfo = {\n      name,\n      profile_img,\n      guide_no,\n      age,\n      lang\n    };\n    setconnectList([userInfo]);\n  };\n\n  const onSubmithandler = async e => {\n    if (connectList.length <= 0) {\n      message.warning(\" 연결할 가이드를검색후 추가해주세요\");\n      return;\n    } else if (ViewLank === 0) {\n      message.warning(\"노출순위는 1이상 지정해주세요\");\n      return;\n    }\n\n    let form = new FormData();\n    form.append(\"z_index\", ViewLank);\n    form.append(\"lang\", \"zh\");\n    form.append(\"guide_no\", connectList[0].guide_no);\n    const cookie = Cookie.get(\"token\");\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/v1/recommend/addG\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      });\n\n      if (data.status === \"success\") {\n        message.success(\"성공적으로 작성되었습니다.\");\n        history.push(\"/recommendguidelist\");\n      }\n    } catch (error) {\n      message.warning(\"작성하는데 실패했습니다.\");\n    }\n  };\n\n  const onRemove = () => {\n    setconnectList([]);\n  };\n\n  const onReset = () => {\n    setconnectList([]);\n    setSearchText(\"\");\n    setguideList([]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    title: \"\\uCD94\\uCC9C \\uAC00\\uC774\\uB4DC\\uC5F0\\uACB0\\uD558\\uAE30\",\n    parent: \"\\uBA54\\uC778\\uAD00\\uB9AC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" oneday-cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, connectList.map((inFolist, index) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, \"\\uCD94\\uCC9C \\uC6D0\\uB370\\uC774\\uD22C\\uC5B4 \\uC0C1\\uD488\\uC5F0\\uACB0\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"oneday-sub-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 23\n    }\n  }, \"\\uB178\\uCD9C\\uC21C\\uC704\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \" form-control\",\n    type: \"number\",\n    min: \"1\",\n    max: \"99\",\n    defaultValue: \"0\",\n    onChange: e => setViewLank(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"onday-total-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guide-left-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar ratio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"b-r-8 height-80\",\n    src: inFolist.profile_img,\n    alt: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 27\n    }\n  })), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, \"\\uAC00\\uC774\\uB4DC\\uBA85:\", inFolist.name, \"/\\uB098\\uC774:\", inFolist.age, \"/\\uC5B8\\uC5B4:\", inFolist.lang)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"onday-right-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning active btn-sm\",\n    type: \"button\",\n    onClick: onRemove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, \"\\uC0AD\\uC81C\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"oneday-seach-box2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"size-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    value: searchText,\n    onChange: e => setSearchText(e.target.value),\n    placeholder: \"\\uAC00\\uC774\\uB4DC\\uC758 \\uC774\\uB984\\uC744 \\uC601\\uC5B4\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    onKeyDown: e => {\n      if (e.key === \"Enter\") {\n        searchhandler();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-search fa-2x\",\n    onClick: searchhandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  })), guideList.map((list, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"onday-total-box2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"onday-left-box2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-50 b-r-15\",\n    src: list.profile_img,\n    alt: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }, \"Name :\", list.name, \" /AGE :\", list.age, \" / AREA:\", list.area, \"/ Lang : \", list.lang)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"oneday-right-box2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-square btn btn-secondary btn-sm btn-s\",\n    type: \"button\",\n    onClick: () => addBtn(list.name, list.profile_img, list.guide_no, list.lang, list.age),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }, \"\\uCD94\\uAC00\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning active btn-sm\",\n    type: \"button\",\n    onClick: onReset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, \"\\uCD08\\uAE30\\uD654\"), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary btn-sm\",\n    onClick: onSubmithandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, \"\\uD655\\uC778\"))))));\n};\n\nexport default RecommendGuideZh;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/recommendGuid/RecommendGuideZh.js"],"names":["React","useState","useEffect","Breadcrumb","axios","Cookie","useHistory","message","RecommendGuideZh","connectList","setconnectList","searchText","setSearchText","guideList","setguideList","ViewLank","setViewLank","history","searchhandler","alert","form","FormData","append","post","headers","Authorization","get","then","response","console","log","data","status","count","list","warning","catch","err","addBtn","name","profile_img","guide_no","age","lang","userInfo","onSubmithandler","e","length","cookie","success","push","error","onRemove","onReset","map","inFolist","index","target","value","key","area"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport \"../assets/css/layout.css\"\nimport Breadcrumb from \"../components/common/breadcrumb\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport { useHistory } from \"react-router-dom\"\nimport { message } from \"antd\"\n// import { reduceHooks } from 'react-table';\nconst RecommendGuideZh = () => {\n  const [connectList, setconnectList] = useState([])\n  const [searchText, setSearchText] = useState(\"\")\n  const [guideList, setguideList] = useState([])\n  const [ViewLank, setViewLank] = useState(0)\n  const history = useHistory()\n\n  const searchhandler = () => {\n    if (!searchText) {\n      alert(\"한글자이상입력하세요\")\n      return\n    }\n\n    const form = new FormData()\n    form.append(\"index\", 1)\n    form.append(\"lang\", \"en\")\n    form.append(\"search\", searchText)\n\n    axios\n      .post(\"/api/v1/recommend/searchG\", form, {\n        headers: {\n          Authorization: Cookie.get(\"token\")\n        }\n      })\n      .then(response => {\n        console.log(response)\n        if (response.data.status === \"success\") {\n          if (response.data.data.count > 0) {\n            setguideList(response.data.data.list)\n          } else {\n            message.warning(\"일치하는 가이드가 없습니다\")\n            setguideList([])\n          }\n          console.log(guideList)\n        }\n      })\n      .catch(err => {\n        message.warning(\"검색한데이터를 불러오지못했습니다\")\n      })\n  }\n\n  const addBtn = (name, profile_img, guide_no, age, lang) => {\n    const userInfo = {\n      name,\n      profile_img,\n      guide_no,\n      age,\n      lang\n    }\n    setconnectList([userInfo])\n  }\n\n  const onSubmithandler = async e => {\n    if (connectList.length <= 0) {\n      message.warning(\" 연결할 가이드를검색후 추가해주세요\")\n      return\n    } else if (ViewLank === 0) {\n      message.warning(\"노출순위는 1이상 지정해주세요\")\n      return\n    }\n\n    let form = new FormData()\n\n    form.append(\"z_index\", ViewLank)\n    form.append(\"lang\", \"zh\")\n    form.append(\"guide_no\", connectList[0].guide_no)\n\n    const cookie = Cookie.get(\"token\")\n    try {\n      const { data } = await axios.post(\"/api/v1/recommend/addG\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      })\n      if (data.status === \"success\") {\n        message.success(\"성공적으로 작성되었습니다.\")\n        history.push(\"/recommendguidelist\")\n      }\n    } catch (error) {\n      message.warning(\"작성하는데 실패했습니다.\")\n    }\n  }\n  const onRemove = () => {\n    setconnectList([])\n  }\n  const onReset = () => {\n    setconnectList([])\n    setSearchText(\"\")\n    setguideList([])\n  }\n\n  return (\n    <div>\n      <Breadcrumb title=\"추천 가이드연결하기\" parent=\"메인관리\" />\n\n      <div className=\"col-sm-12\">\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <div className=\" oneday-cont\">\n              <div>\n                {connectList.map((inFolist, index) => (\n                  <>\n                    <h3>추천 원데이투어 상품연결</h3>\n\n                    <div className=\"oneday-sub-bar\">\n                      <h3>노출순위</h3>\n                      <div>\n                        <input\n                          className=\" form-control\"\n                          type=\"number\"\n                          min=\"1\"\n                          max=\"99\"\n                          defaultValue=\"0\"\n                          onChange={e => setViewLank(e.target.value)}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"onday-total-box\">\n                      <div className=\"guide-left-box\">\n                        <div className=\"avatar ratio\">\n                          <img\n                            className=\"b-r-8 height-80\"\n                            src={inFolist.profile_img}\n                            alt=\"#\"\n                          />\n                        </div>\n                        &nbsp; &nbsp;\n                        <h2>\n                          가이드명:{inFolist.name}/나이:{inFolist.age}/언어:\n                          {inFolist.lang}\n                        </h2>\n                      </div>\n                      <div className=\"onday-right-box\">\n                        <button\n                          className=\"btn btn-warning active btn-sm\"\n                          type=\"button\"\n                          onClick={onRemove}\n                        >\n                          삭제\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                ))}\n              </div>\n            </div>\n            <div className=\"oneday-seach-box2 \">\n              <div className=\"size-box\">\n                <input\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={searchText}\n                  onChange={e => setSearchText(e.target.value)}\n                  placeholder=\"가이드의 이름을 영어로 입력해주세요\"\n                  onKeyDown={e => {\n                    if (e.key === \"Enter\") {\n                      searchhandler()\n                    }\n                  }}\n                />\n\n                <i className=\"fa fa-search fa-2x\" onClick={searchhandler} />\n              </div>\n\n              {guideList.map((list, index) => (\n                <div className=\"onday-total-box2\">\n                  <div className=\"onday-left-box2\">\n                    <img\n                      className=\"img-50 b-r-15\"\n                      src={list.profile_img}\n                      alt=\"#\"\n                    />\n                    &nbsp; &nbsp;\n                    <div>\n                      Name :{list.name} /AGE :{list.age} / AREA:{list.area}/\n                      Lang : {list.lang}\n                    </div>\n                  </div>\n                  <div className=\"oneday-right-box2\">\n                    <button\n                      className=\"btn btn-square btn btn-secondary btn-sm btn-s\"\n                      type=\"button\"\n                      onClick={() =>\n                        addBtn(\n                          list.name,\n                          list.profile_img,\n                          list.guide_no,\n                          list.lang,\n                          list.age\n                        )\n                      }\n                    >\n                      추가\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n            <div className=\"btn-div\">\n              <button\n                className=\"btn btn-warning active btn-sm\"\n                type=\"button\"\n                onClick={onReset}\n              >\n                초기화\n              </button>\n              &nbsp; &nbsp;\n              <button\n                className=\"btn btn-secondary btn-sm\"\n                onClick={onSubmithandler}\n              >\n                확인\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default RecommendGuideZh\n"]},"metadata":{},"sourceType":"module"}