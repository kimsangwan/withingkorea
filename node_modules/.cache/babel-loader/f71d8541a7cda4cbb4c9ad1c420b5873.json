{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/hoc/auth.js\";\nimport Cookie from \"js-cookie\";\nimport React, { useEffect } from \"react\";\nimport { message } from \"antd\";\nimport axios from \"axios\";\nexport default function (Component) {\n  function Auth(props) {\n    // const history = useHistory()\n    // if (!Cookie.get(\"token\")) {\n    //   props.history.push(\"/\")\n    //   message.error(\"관리자 로그인후에 이용해주세요\")\n    //   //   alert(\"로그인후 이용하세요\")\n    // }\n    const token = Cookie.get(\"token\");\n    useEffect(() => {\n      axios.post(\"/api/v1/state/tokenState\", {\n        headers: {\n          Authorization: token\n        }\n      }).then(res => {\n        if (res.data.status !== \"success\") {\n          props.history.push(\"/\");\n          message.error(\"관리자 로그인후에 이용해주세요\");\n        }\n      });\n    }, []);\n    return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 12\n      }\n    }));\n  }\n\n  return Auth;\n}","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/hoc/auth.js"],"names":["Cookie","React","useEffect","message","axios","Component","Auth","props","token","get","post","headers","Authorization","then","res","data","status","history","push","error"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,UAASC,SAAT,EAAoB;AACjC,WAASC,IAAT,CAAcC,KAAd,EAAqB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,UAAMC,KAAK,GAAGR,MAAM,CAACS,GAAP,CAAW,OAAX,CAAd;AACAP,IAAAA,SAAS,CAAC,MAAM;AACdE,MAAAA,KAAK,CACFM,IADH,CACQ,0BADR,EACoC;AAChCC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAEJ;AADR;AADuB,OADpC,EAMGK,IANH,CAMQC,GAAG,IAAI;AACX,YAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,KAAoB,SAAxB,EAAmC;AACjCT,UAAAA,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACAf,UAAAA,OAAO,CAACgB,KAAR,CAAc,kBAAd;AACD;AACF,OAXH;AAYD,KAbQ,EAaN,EAbM,CAAT;AAeA,wBAAO,oBAAC,SAAD,oBAAeZ,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD;;AAED,SAAOD,IAAP;AACD","sourcesContent":["import Cookie from \"js-cookie\"\nimport React, { useEffect } from \"react\"\nimport { message } from \"antd\"\nimport axios from \"axios\"\n\nexport default function(Component) {\n  function Auth(props) {\n    // const history = useHistory()\n    // if (!Cookie.get(\"token\")) {\n    //   props.history.push(\"/\")\n    //   message.error(\"관리자 로그인후에 이용해주세요\")\n    //   //   alert(\"로그인후 이용하세요\")\n    // }\n    const token = Cookie.get(\"token\")\n    useEffect(() => {\n      axios\n        .post(\"/api/v1/state/tokenState\", {\n          headers: {\n            Authorization: token\n          }\n        })\n        .then(res => {\n          if (res.data.status !== \"success\") {\n            props.history.push(\"/\")\n            message.error(\"관리자 로그인후에 이용해주세요\")\n          }\n        })\n    }, [])\n\n    return <Component {...props} />\n  }\n\n  return Auth\n}\n"]},"metadata":{},"sourceType":"module"}