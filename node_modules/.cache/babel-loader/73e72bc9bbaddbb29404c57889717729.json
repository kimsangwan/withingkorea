{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/draftEditer/DraftEditer.js\";\nimport React, { useState } from \"react\";\nimport Cookie from \"js-cookie\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport \"./editer.css\";\nimport { EditorState, convertToRaw } from \"draft-js\";\nimport axios from \"axios\"; // import Cookie from \"js-cookie\"\n\nimport draftToHtml from \"draftjs-to-html\";\nimport htmlToDraft from \"html-to-draftjs\";\n\nconst DraftEditer = props => {\n  // 에디터에 따라다르지만  상태값이름을 통일해야 돌아감\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n\n  const onEditorStateChange = data => {\n    setEditorState(data);\n    const editerContent = draftToHtml(convertToRaw(editorState.getCurrentContent()));\n    console.log(editerContent);\n    props === null || props === void 0 ? void 0 : props.onEditerContentHandler(editerContent);\n  };\n\n  const onUpload = files => {\n    const form = new FormData();\n    form.append(\"type\", \"A\");\n    form.append(\"file\", files);\n    return axios.post(\"/api/v1/file/uploadFile\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    }).then(res => {\n      return {\n        data: {\n          link: res.data.data\n        }\n      };\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Editor, {\n    editorState: editorState,\n    toolbarClassName: \"toolbarClassName\",\n    wrapperClassName: \"home-wrapper\",\n    editorClassName: \"home-editor\",\n    onEditorStateChange: onEditorStateChange,\n    toolbar: {\n      // inline: { inDropdown: true },\n      // list: { inDropdown: true },\n      // textAlign: { inDropdown: true },\n      // link: { inDropdown: true },\n      // history: { inDropdown: true },\n      image: {\n        uploadCallback: onUpload\n      }\n    },\n    localization: {\n      locale: \"ko\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default DraftEditer;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/draftEditer/DraftEditer.js"],"names":["React","useState","Cookie","Editor","EditorState","convertToRaw","axios","draftToHtml","htmlToDraft","DraftEditer","props","editorState","setEditorState","createEmpty","onEditorStateChange","data","editerContent","getCurrentContent","console","log","onEditerContentHandler","onUpload","files","form","FormData","append","post","headers","Authorization","get","then","res","link","catch","err","image","uploadCallback","locale"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,OAAO,cAAP;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,UAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,OAAOC,WAAP,MAAwB,iBAAxB;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAC3B;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAACG,WAAW,CAACS,WAAZ,EAAD,CAA9C;;AAEA,QAAMC,mBAAmB,GAAGC,IAAI,IAAI;AAClCH,IAAAA,cAAc,CAACG,IAAD,CAAd;AACA,UAAMC,aAAa,GAAGT,WAAW,CAC/BF,YAAY,CAACM,WAAW,CAACM,iBAAZ,EAAD,CADmB,CAAjC;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,aAAZ;AACAN,IAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEU,sBAAP,CAA8BJ,aAA9B;AACD,GAPD;;AASA,QAAMK,QAAQ,GAAGC,KAAK,IAAI;AACxB,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AAEAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoB,GAApB;AACAF,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBH,KAApB;AAEA,WAAOhB,KAAK,CACToB,IADI,CACC,yBADD,EAC4BH,IAD5B,EACkC;AACrCI,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAE1B,MAAM,CAAC2B,GAAP,CAAW,OAAX;AADR;AAD4B,KADlC,EAMJC,IANI,CAMCC,GAAG,IAAI;AACX,aAAO;AAAEhB,QAAAA,IAAI,EAAE;AAAEiB,UAAAA,IAAI,EAAED,GAAG,CAAChB,IAAJ,CAASA;AAAjB;AAAR,OAAP;AACD,KARI,EASJkB,KATI,CASEC,GAAG,IAAI;AACZhB,MAAAA,OAAO,CAACC,GAAR,CAAYe,GAAZ;AACD,KAXI,CAAP;AAYD,GAlBD;;AAoBA,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,WAAW,EAAEvB,WADf;AAEE,IAAA,gBAAgB,EAAC,kBAFnB;AAGE,IAAA,gBAAgB,EAAC,cAHnB;AAIE,IAAA,eAAe,EAAC,aAJlB;AAKE,IAAA,mBAAmB,EAAEG,mBALvB;AAME,IAAA,OAAO,EAAE;AACP;AACA;AACA;AACA;AACA;AACAqB,MAAAA,KAAK,EAAE;AAAEC,QAAAA,cAAc,EAAEf;AAAlB;AANA,KANX;AAcE,IAAA,YAAY,EAAE;AACZgB,MAAAA,MAAM,EAAE;AADI,KAdhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF;AAwBD,CAzDD;;AA2DA,eAAe5B,WAAf","sourcesContent":["import React, { useState } from \"react\"\nimport Cookie from \"js-cookie\"\nimport { Editor } from \"react-draft-wysiwyg\"\nimport \"./editer.css\"\nimport { EditorState, convertToRaw } from \"draft-js\"\nimport axios from \"axios\"\n// import Cookie from \"js-cookie\"\nimport draftToHtml from \"draftjs-to-html\"\nimport htmlToDraft from \"html-to-draftjs\"\n\nconst DraftEditer = props => {\n  // 에디터에 따라다르지만  상태값이름을 통일해야 돌아감\n  const [editorState, setEditorState] = useState(EditorState.createEmpty())\n\n  const onEditorStateChange = data => {\n    setEditorState(data)\n    const editerContent = draftToHtml(\n      convertToRaw(editorState.getCurrentContent())\n    )\n    console.log(editerContent)\n    props?.onEditerContentHandler(editerContent)\n  }\n\n  const onUpload = files => {\n    const form = new FormData()\n\n    form.append(\"type\", \"A\")\n    form.append(\"file\", files)\n\n    return axios\n      .post(\"/api/v1/file/uploadFile\", form, {\n        headers: {\n          Authorization: Cookie.get(\"token\")\n        }\n      })\n      .then(res => {\n        return { data: { link: res.data.data } }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  return (\n    <>\n      <div>\n        <Editor\n          editorState={editorState}\n          toolbarClassName=\"toolbarClassName\"\n          wrapperClassName=\"home-wrapper\"\n          editorClassName=\"home-editor\"\n          onEditorStateChange={onEditorStateChange}\n          toolbar={{\n            // inline: { inDropdown: true },\n            // list: { inDropdown: true },\n            // textAlign: { inDropdown: true },\n            // link: { inDropdown: true },\n            // history: { inDropdown: true },\n            image: { uploadCallback: onUpload }\n          }}\n          localization={{\n            locale: \"ko\"\n          }}\n        />\n      </div>\n    </>\n  )\n}\n\nexport default DraftEditer\n"]},"metadata":{},"sourceType":"module"}