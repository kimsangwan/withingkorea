{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/Regulation/ RegulationAdd.js\";\nimport React, { useState } from \"react\";\nimport NewCard from \"../components/common/NewCard\";\nimport \"../assets/css/layout.css\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\n\nconst RegulationAdd = ({\n  history,\n  match\n}) => {\n  const [title, setTitle] = useState();\n  const [enContents, setEnContents] = useState();\n  const [zhContents, setZhContents] = useState();\n  useEffect(() => {\n    let form = new FormData();\n    form.append(\"notice_no\", match.params.id); // 데이터 가져오기\n\n    axios.post(\"/api/v1/notice/editpageG\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    }).then(function (response) {\n      console.log(response); // 데이터불러오는데 성공했는지 확인 if\n\n      setTitle(response.data.data.title);\n      setEnContents(response.data.data.title);\n      setZhContents(response.data.data.title);\n    }); // 데이터 가져온후에 state 바인딩\n  }, []);\n\n  const onSubmithandler = async e => {\n    e.preventDefault();\n    let form = new FormData();\n    form.append(\"title\", title);\n    form.append(\"zh_editor\", enContents);\n    form.append(\"en_editor\", zhContents);\n    form.append(\"notice_no\", match.params.id);\n    const cookie = Cookie.get(\"token\");\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/v1/term/edit\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      });\n      {\n        console.log(data);\n      }\n\n      if (data.status == \"success\") {\n        alert(\"성공적으로 수정되었습니다.\");\n        history.push(\"/notice/guide\"); // history.push(\"/notice/guide\")\n      }\n    } catch (error) {\n      alert(\"수정하는데 실패했습니다.\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NewCard, {\n    title: \"\\uADDC\\uC815\\uC218\\uC815\\uD558\\uAE30\",\n    parent: \"\\uC815\\uBCF4\\uAD00\\uB9AC/\\uADDC\\uC815\\uAD00\\uB9AC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-block row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 col-lg-12 col-xl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"regulatin-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"\\uC81C\\uBAA9\\uC785\\uB825\"), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control input-air-primary\",\n    id: \"exampleFormControlInput1\",\n    type: \"input\",\n    placeholder: \"\\uCDE8\\uC18C\\uBC0F \\uD658\\uBD88\\uADDC\\uC815\",\n    onChange: e => setTitle(e.target.value),\n    value: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-zone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, \"\\uADDC\\uC815(\\uC601\\uBB38)\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control input-air-primary\",\n    onChange: e => setEnContents(e.target.value),\n    value: enContents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, \"\\uADDC\\uC815(\\uC911\\uBB38)\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control input-air-primary\",\n    onChange: e => setZhContents(e.target.value),\n    value: zhContents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }), console.log(enContents), console.log(zhContents)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-gup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"btn btn-danger active\",\n    type: \"reset\",\n    defaultValue: \"Cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }), \"\\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn  btn-success\",\n    onClick: onSubmithandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, \"\\uC791\\uC131\"))))))));\n};\n\nexport default RegulationAdd;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/Regulation/ RegulationAdd.js"],"names":["React","useState","NewCard","axios","Cookie","RegulationAdd","history","match","title","setTitle","enContents","setEnContents","zhContents","setZhContents","useEffect","form","FormData","append","params","id","post","headers","Authorization","get","then","response","console","log","data","onSubmithandler","e","preventDefault","cookie","status","alert","push","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport NewCard from \"../components/common/NewCard\"\nimport \"../assets/css/layout.css\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nconst RegulationAdd = ({ history, match }) => {\n  const [title, setTitle] = useState()\n  const [enContents, setEnContents] = useState()\n  const [zhContents, setZhContents] = useState()\n\n  useEffect(() => {\n    let form = new FormData()\n\n    form.append(\"notice_no\", match.params.id)\n\n    // 데이터 가져오기\n    axios\n      .post(\"/api/v1/notice/editpageG\", form, {\n        headers: { Authorization: Cookie.get(\"token\") }\n      })\n      .then(function(response) {\n        console.log(response)\n        // 데이터불러오는데 성공했는지 확인 if\n        setTitle(response.data.data.title)\n        setEnContents(response.data.data.title)\n        setZhContents(response.data.data.title)\n      })\n    // 데이터 가져온후에 state 바인딩\n  }, [])\n\n  const onSubmithandler = async e => {\n    e.preventDefault()\n\n    let form = new FormData()\n    form.append(\"title\", title)\n    form.append(\"zh_editor\", enContents)\n    form.append(\"en_editor\", zhContents)\n    form.append(\"notice_no\", match.params.id)\n\n    const cookie = Cookie.get(\"token\")\n\n    try {\n      const { data } = await axios.post(\"/api/v1/term/edit\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      })\n      {\n        console.log(data)\n      }\n      if (data.status == \"success\") {\n        alert(\"성공적으로 수정되었습니다.\")\n        history.push(\"/notice/guide\")\n        // history.push(\"/notice/guide\")\n      }\n    } catch (error) {\n      alert(\"수정하는데 실패했습니다.\")\n    }\n  }\n  return (\n    <>\n      <NewCard title=\"규정수정하기\" parent=\"정보관리/규정관리\">\n        <div className=\"card-block row\">\n          <div className=\"col-sm-12 col-lg-12 col-xl-12\">\n            <form>\n              <div className=\"regulatin-title\">\n                <h5>제목입력</h5>\n                <input\n                  class=\"form-control input-air-primary\"\n                  id=\"exampleFormControlInput1\"\n                  type=\"input\"\n                  placeholder=\"취소및 환불규정\"\n                  onChange={e => setTitle(e.target.value)}\n                  value={title}\n                />\n                <p />\n              </div>\n              <div className=\"text-zone\">\n                <div>\n                  <h5>규정(영문)</h5>\n                  <textarea\n                    className=\"form-control input-air-primary\"\n                    onChange={e => setEnContents(e.target.value)}\n                    value={enContents}\n                  />\n                </div>\n                <div>\n                  <h5>규정(중문)</h5>\n                  <textarea\n                    className=\"form-control input-air-primary\"\n                    onChange={e => setZhContents(e.target.value)}\n                    value={zhContents}\n                  />\n                  {console.log(enContents)}\n                  {console.log(zhContents)}\n                </div>\n                <div className=\"btn-gup\">\n                  <input\n                    className=\"btn btn-danger active\"\n                    type=\"reset\"\n                    defaultValue=\"Cancel\"\n                  />\n                  &nbsp;\n                  <button\n                    className=\"btn \n              btn-success\"\n                    onClick={onSubmithandler}\n                  >\n                    작성\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </NewCard>\n    </>\n  )\n}\n\nexport default RegulationAdd\n"]},"metadata":{},"sourceType":"module"}