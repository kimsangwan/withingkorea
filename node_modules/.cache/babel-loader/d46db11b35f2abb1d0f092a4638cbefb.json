{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/auth/signin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport logo from \"../assets/images/endless-logo.png\";\nimport man from \"../assets/images/dashboard/user.png\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axios from \"axios\";\nimport { useCookies } from \"react-cookie\";\nimport { withRouter } from \"react-router\";\nimport { message } from \"antd\";\nimport app, { googleProvider, facebookProvider, twitterProvider, githubProvider } from \"../data/base\";\nimport Cookie from \"js-cookie\";\nimport { userData } from \"../actions/userAction\";\nimport { useDispatch } from \"react-redux\";\n\nconst Signin = ({\n  history\n}) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [cookies, setCookie] = useCookies([\"logainToken\"]);\n  const history1 = useHistory();\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(localStorage.getItem(\"profileURL\" || man));\n  useEffect(() => {\n    if (value !== null) localStorage.setItem(\"profileURL\", value);else localStorage.setItem(\"profileURL\", man);\n  }, [value]);\n\n  const loginAuth = async () => {\n    if (email.length <= 0) {\n      message.warning(\"아이디를 이메일 형식으로 입력해주세요\");\n      return;\n    }\n\n    if (password.length <= 0) {\n      message.warning(\"비밀번호를 입력해주세요\");\n      return;\n    }\n\n    try {\n      const data = await dispatch(userData(email, password));\n\n      if (data.payload) {\n        Cookie.set(\"token\", data.payload);\n        history.push(\"/userlist\");\n\n        if (data.payload) {\n          Cookie.set(\"token\", data.payload);\n          message.success(\"접속에 성공하였습니다\");\n          history.push(\"/userlist\");\n        }\n      } else {}\n    } catch (error) {\n      message.warning(\"아이디와 비밀번호가 일치하지않습니다\");\n      history.push(\"/\");\n      setEmail([\"\"]);\n      setPassword([\"\"]);\n    }\n  }; //un-comment this loginAuth Function when u want use login with firebase only\n  // const loginAuth = async () => {\n  //     try {\n  //         await app\n  //             .auth()\n  //             .signInWithEmailAndPassword(email, password);\n  //         setValue(man);\n  //         history.push(`${process.env.PUBLIC_URL}/dashboard/default`);\n  //     } catch (error) {\n  //         setTimeout(() => {\n  //             toast.error(\"Oppss.. The password is invalid or the user does not have a password.\");\n  //         }, 200);\n  //     }\n  // }\n\n\n  const googleAuth = async () => {\n    try {\n      app.auth().signInWithPopup(googleProvider).then(function (result) {\n        setValue(result.user.photoURL);\n        setTimeout(() => {\n          history.push(`${process.env.PUBLIC_URL}/dashboard/default`);\n        }, 200);\n      });\n    } catch (error) {\n      setTimeout(() => {\n        toast.error(\"Oppss.. The password is invalid or the user does not have a password.\");\n      }, 200);\n    }\n  };\n\n  const facebookAuth = async () => {\n    try {\n      app.auth().signInWithPopup(facebookProvider).then(function (result) {\n        setValue(result.user.photoURL);\n        setTimeout(() => {\n          history.push(`${process.env.PUBLIC_URL}/dashboard/default`);\n        }, 200);\n      });\n    } catch (error) {\n      setTimeout(() => {\n        toast.error(\"Oppss.. The password is invalid or the user does not have a password.\");\n      }, 200);\n    }\n  };\n\n  const twitterAuth = async () => {\n    try {\n      app.auth().signInWithPopup(twitterProvider).then(function (result) {\n        setValue(result.user.photoURL);\n        setTimeout(() => {\n          history.push(`${process.env.PUBLIC_URL}/dashboard/default`);\n        }, 200);\n      });\n    } catch (error) {\n      setTimeout(() => {\n        toast.error(\"Oppss.. The password is invalid or the user does not have a password.\");\n      }, 200);\n    }\n  };\n\n  const githubAuth = async () => {\n    try {\n      app.auth().signInWithPopup(githubProvider).then(function (result) {\n        setValue(result.user.photoURL);\n        setTimeout(() => {\n          history.push(`${process.env.PUBLIC_URL}/dashboard/default`);\n        }, 200);\n      });\n    } catch (error) {\n      setTimeout(() => {\n        toast.error(\"Oppss.. The password is invalid or the user does not have a password.\");\n      }, 200);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"authentication-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-innerright\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"authentication-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 27\n    }\n  }, \"\\uAD00\\uB9AC\\uC790 \\uB85C\\uADF8\\uC778\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 27\n    }\n  }, \"\\uC544\\uC774\\uB514\\uC640 \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\")), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"theme-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-form-label pt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 29\n    }\n  }, \"\\uC544\\uC774\\uB514\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    onKeyDown: e => {\n      if (e.key === \"Enter\") {\n        loginAuth();\n      }\n    },\n    placeholder: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"\\uD328\\uC2A4\\uC6CC\\uB4DC\",\n    value: password,\n    f: true,\n    onChange: e => setPassword(e.target.value) // onKeyDown={e => {\n    //   if (e.key === \"Enter\") {\n    //     loginAuth()\n    //   }ㄴ\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkbox p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"checkbox1\",\n    type: \"checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group form-row mt-3 mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    type: \"button\",\n    onClick: () => loginAuth(),\n    onKeyDown: e => {\n      if (e.key === \"Enter\") {\n        loginAuth();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 29\n    }\n  }, \"Login\")))))))))), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default withRouter(Signin);","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/auth/signin.js"],"names":["React","useState","useEffect","useHistory","logo","man","ToastContainer","toast","axios","useCookies","withRouter","message","app","googleProvider","facebookProvider","twitterProvider","githubProvider","Cookie","userData","useDispatch","Signin","history","email","setEmail","password","setPassword","cookies","setCookie","history1","dispatch","value","setValue","localStorage","getItem","setItem","loginAuth","length","warning","data","payload","set","push","success","error","googleAuth","auth","signInWithPopup","then","result","user","photoURL","setTimeout","process","env","PUBLIC_URL","facebookAuth","twitterAuth","githubAuth","e","target","key"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport logo from \"../assets/images/endless-logo.png\"\nimport man from \"../assets/images/dashboard/user.png\"\nimport { ToastContainer, toast } from \"react-toastify\"\nimport \"react-toastify/dist/ReactToastify.css\"\nimport axios from \"axios\"\nimport { useCookies } from \"react-cookie\"\nimport { withRouter } from \"react-router\"\nimport { message } from \"antd\"\nimport app, {\n  googleProvider,\n  facebookProvider,\n  twitterProvider,\n  githubProvider\n} from \"../data/base\"\n\nimport Cookie from \"js-cookie\"\nimport { userData } from \"../actions/userAction\"\nimport { useDispatch } from \"react-redux\"\n\nconst Signin = ({ history }) => {\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  const [cookies, setCookie] = useCookies([\"logainToken\"])\n  const history1 = useHistory()\n  const dispatch = useDispatch()\n\n  const [value, setValue] = useState(localStorage.getItem(\"profileURL\" || man))\n\n  useEffect(() => {\n    if (value !== null) localStorage.setItem(\"profileURL\", value)\n    else localStorage.setItem(\"profileURL\", man)\n  }, [value])\n\n  const loginAuth = async () => {\n    if (email.length <= 0) {\n      message.warning(\"아이디를 이메일 형식으로 입력해주세요\")\n      return\n    }\n    if (password.length <= 0) {\n      message.warning(\"비밀번호를 입력해주세요\")\n      return\n    }\n    try {\n      const data = await dispatch(userData(email, password))\n      if (data.payload) {\n        Cookie.set(\"token\", data.payload)\n        history.push(\"/userlist\")\n\n        if (data.payload) {\n          Cookie.set(\"token\", data.payload)\n          message.success(\"접속에 성공하였습니다\")\n          history.push(\"/userlist\")\n        }\n      } else {\n      }\n    } catch (error) {\n      message.warning(\"아이디와 비밀번호가 일치하지않습니다\")\n      history.push(\"/\")\n      setEmail([\"\"])\n      setPassword([\"\"])\n    }\n  }\n\n  //un-comment this loginAuth Function when u want use login with firebase only\n  // const loginAuth = async () => {\n  //     try {\n  //         await app\n  //             .auth()\n  //             .signInWithEmailAndPassword(email, password);\n  //         setValue(man);\n  //         history.push(`${process.env.PUBLIC_URL}/dashboard/default`);\n\n  //     } catch (error) {\n  //         setTimeout(() => {\n  //             toast.error(\"Oppss.. The password is invalid or the user does not have a password.\");\n  //         }, 200);\n  //     }\n  // }\n\n  const googleAuth = async () => {\n    try {\n      app\n        .auth()\n        .signInWithPopup(googleProvider)\n        .then(function(result) {\n          setValue(result.user.photoURL)\n          setTimeout(() => {\n            history.push(`${process.env.PUBLIC_URL}/dashboard/default`)\n          }, 200)\n        })\n    } catch (error) {\n      setTimeout(() => {\n        toast.error(\n          \"Oppss.. The password is invalid or the user does not have a password.\"\n        )\n      }, 200)\n    }\n  }\n\n  const facebookAuth = async () => {\n    try {\n      app\n        .auth()\n        .signInWithPopup(facebookProvider)\n        .then(function(result) {\n          setValue(result.user.photoURL)\n          setTimeout(() => {\n            history.push(`${process.env.PUBLIC_URL}/dashboard/default`)\n          }, 200)\n        })\n    } catch (error) {\n      setTimeout(() => {\n        toast.error(\n          \"Oppss.. The password is invalid or the user does not have a password.\"\n        )\n      }, 200)\n    }\n  }\n  const twitterAuth = async () => {\n    try {\n      app\n        .auth()\n        .signInWithPopup(twitterProvider)\n        .then(function(result) {\n          setValue(result.user.photoURL)\n          setTimeout(() => {\n            history.push(`${process.env.PUBLIC_URL}/dashboard/default`)\n          }, 200)\n        })\n    } catch (error) {\n      setTimeout(() => {\n        toast.error(\n          \"Oppss.. The password is invalid or the user does not have a password.\"\n        )\n      }, 200)\n    }\n  }\n  const githubAuth = async () => {\n    try {\n      app\n        .auth()\n        .signInWithPopup(githubProvider)\n        .then(function(result) {\n          setValue(result.user.photoURL)\n          setTimeout(() => {\n            history.push(`${process.env.PUBLIC_URL}/dashboard/default`)\n          }, 200)\n        })\n    } catch (error) {\n      setTimeout(() => {\n        toast.error(\n          \"Oppss.. The password is invalid or the user does not have a password.\"\n        )\n      }, 200)\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"page-wrapper\">\n        <div className=\"container-fluid p-0\">\n          {/* <!-- login page start--> */}\n          <div className=\"authentication-main\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"auth-innerright\">\n                  <div className=\"authentication-box\">\n                    <div className=\"text-center\">\n                      <img src={logo} alt=\"\" />\n                    </div>\n                    <div className=\"card mt-4\">\n                      <div className=\"card-body\">\n                        <div className=\"text-center\">\n                          <h4>관리자 로그인</h4>\n                          <h6>아이디와 비밀번호를 입력해주세요</h6>\n                        </div>\n                        <form className=\"theme-form\">\n                          <div className=\"form-group\">\n                            <label className=\"col-form-label pt-0\">\n                              아이디\n                            </label>\n                            <input\n                              className=\"form-control\"\n                              type=\"email\"\n                              name=\"email\"\n                              value={email}\n                              onChange={e => setEmail(e.target.value)}\n                              onKeyDown={e => {\n                                if (e.key === \"Enter\") {\n                                  loginAuth()\n                                }\n                              }}\n                              placeholder=\"이메일을 입력해주세요 \"\n                            />\n                            {/* {errors.email && 'Email is required'} */}\n                          </div>\n                          <div className=\"form-group\">\n                            <label className=\"col-form-label\">비밀번호</label>\n                            <input\n                              className=\"form-control\"\n                              type=\"password\"\n                              name=\"password\"\n                              placeholder=\"패스워드\"\n                              value={password}\n                              f\n                              onChange={e => setPassword(e.target.value)}\n                              // onKeyDown={e => {\n                              //   if (e.key === \"Enter\") {\n                              //     loginAuth()\n                              //   }ㄴ\n                              // }}\n                            />\n                            {/* {errors.password && 'Email is required'} */}\n                          </div>\n                          <div className=\"checkbox p-0\">\n                            <input id=\"checkbox1\" type=\"checkbox\" />\n                            {/* <label htmlFor=\"checkbox1\">아이디 기억하기</label> */}\n                          </div>\n                          <div className=\"form-group form-row mt-3 mb-0\">\n                            <button\n                              className=\"btn btn-primary btn-block\"\n                              type=\"button\"\n                              onClick={() => loginAuth()}\n                              onKeyDown={e => {\n                                if (e.key === \"Enter\") {\n                                  loginAuth()\n                                }\n                              }}\n                            >\n                              Login\n                            </button>\n                          </div>\n                          {/* <div className=\"login-divider\"></div>\n                                                    <div className=\"social mt-3\">\n                                                        <div className=\"form-group btn-showcase d-flex\">\n                                                            <button className=\"btn social-btn btn-fb d-inline-block\" type=\"button\" onClick={facebookAuth}> <i className=\"fa fa-facebook\"></i></button>\n                                                            <button className=\"btn social-btn btn-twitter d-inline-block\" type=\"button\" onClick={googleAuth}><i className=\"fa fa-google\"></i></button>\n                                                            <button className=\"btn social-btn btn-google d-inline-block\" type=\"button\" onClick={twitterAuth}><i className=\"fa fa-twitter\"></i></button>\n                                                            <button className=\"btn social-btn btn-github d-inline-block\" type=\"button\" onClick={githubAuth}><i className=\"fa fa-github\"></i></button>\n                                                        </div>\n                                                    </div> */}\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <ToastContainer />\n          {/* <!-- login page end--> */}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(Signin)\n"]},"metadata":{},"sourceType":"module"}