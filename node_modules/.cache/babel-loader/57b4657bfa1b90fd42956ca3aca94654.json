{"ast":null,"code":"import _slicedToArray from \"/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/Notice/AddNotiGuide.js\";\nimport React, { useState, useRef, useCallback } from \"react\";\nimport \"../assets/css/layout.css\";\nimport Breadcrumb from \"../components/common/breadcrumb\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { EditorState, convertToRaw } from \"draft-js\";\nimport draftToHtml from \"draftjs-to-html\";\nimport htmlToDraft from \"html-to-draftjs\";\n\nconst AddNotiGuide = ({\n  history\n}) => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        KoTitle = _useState2[0],\n        setKoTitle = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        KoContent = _useState4[0],\n        setKoContent = _useState4[1];\n\n  const _useState5 = useState(EditorState.createEmpty()),\n        _useState6 = _slicedToArray(_useState5, 2),\n        editorState = _useState6[0],\n        setEditorState = _useState6[1]; // const onKoContentHandler = e => {\n  //   const content = e.editor.getData()\n  //   setKoContent(content)\n  // }\n\n\n  const onUpload = files => {\n    return new Promise((resolve, reject) => {\n      axios.get(\"https://jsonplaceholder.typicode.com/todos/1\").then(res => resolve({\n        data: {\n          link: res.data.title\n        }\n      })).catch(err => {\n        console.log(err);\n      });\n    });\n  };\n\n  const onSubmithandler = async e => {\n    e.preventDefault(); // const Koeditor = koEditerContens.current.getInstance().getHtml()\n\n    let form = new FormData();\n    form.append(\"title\", KoTitle);\n    form.append(\"editor\", KoContent);\n    const cookie = Cookie.get(\"token\");\n\n    try {\n      const _ref = await axios.post(\"/api/v1/notice/addG\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      }),\n            data = _ref.data;\n\n      if (data.status == \"success\") {\n        alert(\"성공적으로 작성되었습니다.\");\n        history.push(\"/notice/guide\");\n      }\n    } catch (error) {\n      alert(\"작성하는데 실패했습니다.\");\n    }\n  };\n\n  const KoText = () => {\n    // console.log(\"????\")\n    return React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"\\uC601\\uBB38\\uB0B4\\uC6A9\\uC785\\uB825\\uD558\\uAE30\")), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"// useCommandShortcut=\", true, \"/>\")));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Breadcrumb, {\n    title: \"\\uAC00\\uC774\\uB4DC\\uC6A9 \\uACF5\\uC9C0\\uC0AC\\uD56D\",\n    parent: \"\\uACF5\\uC9C0\\uC0AC\\uD56D\\uAD00\\uB9AC\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-block row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-12 col-lg-12 col-xl-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"noti-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"\\uC81C\\uBAA9\\uC785\\uB825\"), React.createElement(\"input\", {\n    onChange: e => setKoTitle(e.target.value),\n    value: KoTitle,\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    type: \"input\",\n    placeholder: \"\\uD55C\\uAE00\\uB85C\\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Editor, {\n    editorState: KoContent,\n    toolbarClassName: \"toolbarClassName\",\n    wrapperClassName: \"demo-wrapper\",\n    editorClassName: \"demo-editor\",\n    onEditorStateChange: onKoContentHandler,\n    toolbar: {\n      inline: {\n        inDropdown: true\n      },\n      list: {\n        inDropdown: true\n      },\n      textAlign: {\n        inDropdown: true\n      },\n      link: {\n        inDropdown: true\n      },\n      history: {\n        inDropdown: true\n      },\n      image: {\n        uploadCallback: onUpload\n      }\n    },\n    localization: {\n      locale: \"ko\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(\"textarea\", {\n    disabled: true,\n    value: draftToHtml(convertToRaw(editorState.getCurrentContent())),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-square btn-warning btn-sm\",\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"\\uC0AD\\uC81C\"), \"\\xA0 \\xA0\", React.createElement(\"button\", {\n    className: \"btn btn-square btn-secondary active btn-sm\",\n    type: \"button\",\n    onClick: onSubmithandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"\\uC791\\uC131\"))))))));\n};\n\nexport default AddNotiGuide;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/Notice/AddNotiGuide.js"],"names":["React","useState","useRef","useCallback","Breadcrumb","axios","Cookie","Editor","EditorState","convertToRaw","draftToHtml","htmlToDraft","AddNotiGuide","history","KoTitle","setKoTitle","KoContent","setKoContent","createEmpty","editorState","setEditorState","onUpload","files","Promise","resolve","reject","get","then","res","data","link","title","catch","err","console","log","onSubmithandler","e","preventDefault","form","FormData","append","cookie","post","headers","Authorization","status","alert","push","error","KoText","target","value","onKoContentHandler","inline","inDropdown","list","textAlign","image","uploadCallback","locale","getCurrentContent"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from \"react\"\nimport \"../assets/css/layout.css\"\nimport Breadcrumb from \"../components/common/breadcrumb\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport { Editor } from \"react-draft-wysiwyg\"\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\"\nimport { EditorState, convertToRaw } from \"draft-js\"\nimport draftToHtml from \"draftjs-to-html\"\nimport htmlToDraft from \"html-to-draftjs\"\n\nconst AddNotiGuide = ({ history }) => {\n  const [KoTitle, setKoTitle] = useState(\"\")\n  const [KoContent, setKoContent] = useState(\"\")\n  const [editorState, setEditorState] = useState(EditorState.createEmpty())\n\n  // const onKoContentHandler = e => {\n  //   const content = e.editor.getData()\n\n  //   setKoContent(content)\n  // }\n\n  const onUpload = files => {\n    return new Promise((resolve, reject) => {\n      axios\n        .get(\"https://jsonplaceholder.typicode.com/todos/1\")\n        .then(res => resolve({ data: { link: res.data.title } }))\n        .catch(err => {\n          console.log(err)\n        })\n    })\n  }\n\n  const onSubmithandler = async e => {\n    e.preventDefault()\n    // const Koeditor = koEditerContens.current.getInstance().getHtml()\n    let form = new FormData()\n    form.append(\"title\", KoTitle)\n    form.append(\"editor\", KoContent)\n\n    const cookie = Cookie.get(\"token\")\n\n    try {\n      const { data } = await axios.post(\"/api/v1/notice/addG\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      })\n      if (data.status == \"success\") {\n        alert(\"성공적으로 작성되었습니다.\")\n        history.push(\"/notice/guide\")\n      }\n    } catch (error) {\n      alert(\"작성하는데 실패했습니다.\")\n    }\n  }\n  const KoText = () => {\n    // console.log(\"????\")\n    return (\n      <div className=\"col-sm-12\">\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h5>영문내용입력하기</h5>\n          </div>\n          <div className=\"card-body\">\n            {/* <Editor\n              initialValue=\"hello react editor world!\"\n              previewStyle=\"vertical\"\n              height=\"400px\"\n              ref={koEditerContens}\n              initialEditType=\"wysiwyg\" */}\n            // useCommandShortcut={true}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <Breadcrumb title=\"가이드용 공지사항\" parent=\"공지사항관리\" />\n      <div className=\"card\">\n        <div className=\"card-block row\">\n          <div className=\"col-sm-12 col-lg-12 col-xl-12\">\n            <div className=\"card-body\">\n              <div className=\"noti-title\">\n                <form>\n                  <h5>제목입력</h5>\n                  <input\n                    onChange={e => setKoTitle(e.target.value)}\n                    value={KoTitle}\n                    class=\"form-control\"\n                    id=\"exampleFormControlInput1\"\n                    type=\"input\"\n                    placeholder=\"한글로입력해주세요\"\n                  />\n                </form>\n              </div>\n            </div>\n            <div className=\"col-sm-12\">\n              <div />\n            </div>\n            <div className=\"col-sm-12\">\n              <div>\n                <Editor\n                  editorState={KoContent}\n                  toolbarClassName=\"toolbarClassName\"\n                  wrapperClassName=\"demo-wrapper\"\n                  editorClassName=\"demo-editor\"\n                  onEditorStateChange={onKoContentHandler}\n                  toolbar={{\n                    inline: { inDropdown: true },\n                    list: { inDropdown: true },\n                    textAlign: { inDropdown: true },\n                    link: { inDropdown: true },\n                    history: { inDropdown: true },\n                    image: { uploadCallback: onUpload }\n                  }}\n                  localization={{\n                    locale: \"ko\"\n                  }}\n                />\n                <textarea\n                  disabled\n                  value={draftToHtml(\n                    convertToRaw(editorState.getCurrentContent())\n                  )}\n                />\n              </div>\n            </div>\n            <div className=\"col-sm-12\">\n              <div>\n                <div>\n                  <button\n                    className=\"btn btn-square btn-warning btn-sm\"\n                    type=\"button\"\n                  >\n                    삭제\n                  </button>\n                  &nbsp; &nbsp;\n                  {/* <button className=\"edit-button\">수정</button>{' '} */}\n                  <button\n                    className=\"btn btn-square btn-secondary active btn-sm\"\n                    type=\"button\"\n                    onClick={onSubmithandler}\n                  >\n                    작성\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default AddNotiGuide\n"]},"metadata":{},"sourceType":"module"}