{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/Poramislst/TermUpdate.js\";\nimport React, { useState, useEffect } from \"react\";\nimport NewCard from \"../components/common/NewCard\";\nimport \"../assets/css/layout.css\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { message } from \"antd\";\n\nconst TermUpdate = ({\n  history,\n  match\n}) => {\n  const [title, setTitle] = useState();\n  const [enContents, setEnContents] = useState();\n  const [zhContents, setZhContents] = useState();\n  useEffect(() => {\n    let form = new FormData();\n    console.log(match.params.id);\n    form.append(\"term_no\", match.params.id); // 데이터 가져오기\n\n    axios.post(\"/api/v1/term/editpage\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    }).then(function (response) {\n      // 데이터불러오는데 성공했는지 확인 if\n      setTitle(response.data.data.title);\n      setZhContents(response.data.data.zh_editor);\n      setEnContents(response.data.data.en_editor);\n    }); // 데이터 가져온후에 state 바인딩\n  }, []);\n\n  const onSubmithandler = async e => {\n    e.preventDefault();\n    let form = new FormData();\n    form.append(\"term_no\", match.params.id);\n    form.append(\"title\", title);\n    form.append(\"zh_editor\", zhContents);\n    form.append(\"en_editor\", enContents);\n\n    if (title.length <= 0) {\n      message.warning(\"약관의 제목을 입력해주세요\");\n      return;\n    }\n\n    if (enContents.length <= 0) {\n      message.warning(\"영문 약관내용을 입력해주세요\");\n      return;\n    }\n\n    if (zhContents.length <= 0) {\n      message.warning(\"중문 약관내용을 입력해주세요\");\n      return;\n    }\n\n    const cookie = Cookie.get(\"token\");\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/v1/term/edit\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      });\n      {}\n\n      if (data.status == \"success\") {\n        message.success(\"성공적으로 수정되었습니다.\");\n        history.push(\"/term/list\");\n      }\n    } catch (error) {\n      message.warning(\"수정하는데 실패했습니다.\");\n    }\n  };\n\n  const onResetBtn = () => {\n    setEnContents([]);\n    setZhContents([]);\n    setTitle([]);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NewCard, {\n    title: \"\\uC57D\\uAD00\\uC218\\uC815\\uD558\\uAE30 \",\n    parent: \"\\uC815\\uBCF4\\uAD00\\uB9AC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-block row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 col-lg-12 col-xl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"regulatin-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      paddingTop: \"3%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"\\uC57D\\uAD00 \\uC81C\\uBAA9\\uC785\\uB825\"), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control input-air-primary\",\n    id: \"exampleFormControlInput1\",\n    type: \"input\",\n    placeholder: \"\\uCDE8\\uC18C\\uBC0F \\uD658\\uBD88\\uADDC\\uC815\",\n    onChange: e => setTitle(e.target.value),\n    value: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-zone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, \"\\uC57D\\uAD00 \\uB0B4\\uC6A9(\\uC601\\uBB38)\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control input-air-primary\",\n    onChange: e => setEnContents(e.target.value),\n    value: enContents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, \"\\uC57D\\uAD00\\uB0B4\\uC6A9(\\uC911\\uBB38)\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control input-air-primary\",\n    onChange: e => setZhContents(e.target.value),\n    value: zhContents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-btn-gup-guide-goods\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"btn btn-warning active  btn -xs btn-sm\",\n    type: \"reset\",\n    defaultValue: \"\\uCD08\\uAE30\\uD654\",\n    style: {\n      height: 35\n    },\n    onClick: onResetBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }), \"\\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn  btn-success\",\n    onClick: onSubmithandler,\n    style: {\n      marginLeft: \"1%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }, \"\\uC791\\uC131\"))))))));\n};\n\nexport default TermUpdate;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/Poramislst/TermUpdate.js"],"names":["React","useState","useEffect","NewCard","axios","Cookie","message","TermUpdate","history","match","title","setTitle","enContents","setEnContents","zhContents","setZhContents","form","FormData","console","log","params","id","append","post","headers","Authorization","get","then","response","data","zh_editor","en_editor","onSubmithandler","e","preventDefault","length","warning","cookie","status","success","push","error","onResetBtn","paddingTop","target","value","height","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport NewCard from \"../components/common/NewCard\"\nimport \"../assets/css/layout.css\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport { message } from \"antd\"\nconst TermUpdate = ({ history, match }) => {\n  const [title, setTitle] = useState()\n  const [enContents, setEnContents] = useState()\n  const [zhContents, setZhContents] = useState()\n\n  useEffect(() => {\n    let form = new FormData()\n    console.log(match.params.id)\n    form.append(\"term_no\", match.params.id)\n\n    // 데이터 가져오기\n    axios\n      .post(\"/api/v1/term/editpage\", form, {\n        headers: { Authorization: Cookie.get(\"token\") }\n      })\n      .then(function(response) {\n        // 데이터불러오는데 성공했는지 확인 if\n        setTitle(response.data.data.title)\n        setZhContents(response.data.data.zh_editor)\n        setEnContents(response.data.data.en_editor)\n      })\n    // 데이터 가져온후에 state 바인딩\n  }, [])\n\n  const onSubmithandler = async e => {\n    e.preventDefault()\n\n    let form = new FormData()\n    form.append(\"term_no\", match.params.id)\n    form.append(\"title\", title)\n    form.append(\"zh_editor\", zhContents)\n    form.append(\"en_editor\", enContents)\n    if (title.length <= 0) {\n      message.warning(\"약관의 제목을 입력해주세요\")\n      return\n    }\n    if (enContents.length <= 0) {\n      message.warning(\"영문 약관내용을 입력해주세요\")\n      return\n    }\n    if (zhContents.length <= 0) {\n      message.warning(\"중문 약관내용을 입력해주세요\")\n      return\n    }\n    const cookie = Cookie.get(\"token\")\n\n    try {\n      const { data } = await axios.post(\"/api/v1/term/edit\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      })\n      {\n      }\n      if (data.status == \"success\") {\n        message.success(\"성공적으로 수정되었습니다.\")\n        history.push(\"/term/list\")\n      }\n    } catch (error) {\n      message.warning(\"수정하는데 실패했습니다.\")\n    }\n  }\n  const onResetBtn = () => {\n    setEnContents([])\n    setZhContents([])\n    setTitle([])\n  }\n\n  return (\n    <>\n      <NewCard title=\"약관수정하기 \" parent=\"정보관리\">\n        <div className=\"card-block row\">\n          <div className=\"col-sm-12 col-lg-12 col-xl-12\">\n            <form>\n              <div className=\"regulatin-title\">\n                <h5 style={{ paddingTop: \"3%\" }}>약관 제목입력</h5>\n                <input\n                  class=\"form-control input-air-primary\"\n                  id=\"exampleFormControlInput1\"\n                  type=\"input\"\n                  placeholder=\"취소및 환불규정\"\n                  onChange={e => setTitle(e.target.value)}\n                  value={title}\n                />\n                <p />\n              </div>\n              <div className=\"text-zone\">\n                <div>\n                  <h5>약관 내용(영문)</h5>\n                  <textarea\n                    className=\"form-control input-air-primary\"\n                    onChange={e => setEnContents(e.target.value)}\n                    value={enContents}\n                  />\n                </div>\n                <div>\n                  <h5>약관내용(중문)</h5>\n                  <textarea\n                    className=\"form-control input-air-primary\"\n                    onChange={e => setZhContents(e.target.value)}\n                    value={zhContents}\n                  />\n                </div>\n                <div className=\"btn-btn-gup-guide-goods\">\n                  <input\n                    className=\"btn btn-warning active  btn -xs btn-sm\"\n                    type=\"reset\"\n                    defaultValue=\"초기화\"\n                    style={{ height: 35 }}\n                    onClick={onResetBtn}\n                  />\n                  &nbsp;\n                  <button\n                    className=\"btn \n              btn-success\"\n                    onClick={onSubmithandler}\n                    style={{ marginLeft: \"1%\" }}\n                  >\n                    작성\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </NewCard>\n    </>\n  )\n}\n\nexport default TermUpdate\n"]},"metadata":{},"sourceType":"module"}