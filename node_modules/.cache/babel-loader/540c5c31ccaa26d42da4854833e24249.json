{"ast":null,"code":"import { GET_ALL_PRODUCT, SELECTED_PRODUCT, ADD_TO_CART, REMOVE_FROM_CART, CHANGE_CURRENCY, DECREMENT_QTY, GET_SINGLE_ITEM, GET_LIST } from '../constant/actionTypes';\nimport Products from '../data/products';\nconst INIT_STATE = {\n  productItems: Products,\n  products: Products,\n  symbol: '$',\n  cart: [],\n  list: [],\n  singleItem: [],\n  search: []\n};\nexport default ((state = INIT_STATE, action) => {\n  switch (action.type) {\n    case GET_ALL_PRODUCT:\n      return { ...state\n      };\n\n    case GET_LIST:\n      return { ...state,\n        productItems: Products\n      };\n\n    case SELECTED_PRODUCT:\n      const updatedStatus = state.productItems.reduce((cartAcc, item) => {\n        if (item.id === action.payload.productId) {\n          cartAcc.push({ ...item,\n            status: action.payload\n          });\n        } else {\n          cartAcc.push(item);\n        }\n\n        return cartAcc;\n      }, []);\n      return { ...state,\n        productItems: updatedStatus\n      };\n\n    case GET_SINGLE_ITEM:\n      // eslint-disable-next-line\n      const selectedItem = state.productItems.filter(item => item.id == action.payload.productId);\n      return { ...state,\n        singleItem: selectedItem[0]\n      };\n\n    case ADD_TO_CART:\n      const productId = action.payload.product.id;\n\n      if (state.cart.findIndex(product => product.id === productId) !== -1) {\n        const cart = state.cart.reduce((cartAcc, product) => {\n          if (product.id === productId) {\n            cartAcc.push({ ...product,\n              qty: product.qty + 1,\n              sum: product.price * (product.qty + 1)\n            }); // Increment qty\n          } else {\n            cartAcc.push(product);\n          }\n\n          return cartAcc;\n        }, []);\n        return { ...state,\n          cart\n        };\n      }\n\n      return { ...state,\n        cart: [...state.cart, { ...action.payload.product,\n          qty: action.payload.qty,\n          sum: action.payload.product.price * action.payload.qty\n        }]\n      };\n\n    case DECREMENT_QTY:\n      if (state.cart.findIndex(product => product.id === action.productId) !== -1) {\n        const cart = state.cart.reduce((cartAcc, product) => {\n          if (product.id === action.productId && product.qty > 1) {\n            cartAcc.push({ ...product,\n              qty: product.qty - 1,\n              sum: product.price * (product.qty - 1)\n            }); // Decrement qty\n          } else {\n            cartAcc.push(product);\n          }\n\n          return cartAcc;\n        }, []);\n        return { ...state,\n          cart\n        };\n      }\n\n      return { ...state,\n        cart: [...state.cart, { ...action.product,\n          qty: action.qty,\n          sum: action.product.price * action.qty\n        }]\n      };\n\n    case REMOVE_FROM_CART:\n      return {\n        cart: state.cart.filter(item => item.id !== action.product_id.id)\n      };\n\n    case CHANGE_CURRENCY:\n      return { ...state,\n        symbol: action.symbol\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/Endless-react-admin-template/endless 1/src/reducers/ecommerce.reducer.js"],"names":["GET_ALL_PRODUCT","SELECTED_PRODUCT","ADD_TO_CART","REMOVE_FROM_CART","CHANGE_CURRENCY","DECREMENT_QTY","GET_SINGLE_ITEM","GET_LIST","Products","INIT_STATE","productItems","products","symbol","cart","list","singleItem","search","state","action","type","updatedStatus","reduce","cartAcc","item","id","payload","productId","push","status","selectedItem","filter","product","findIndex","qty","sum","price","product_id"],"mappings":"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","sourcesContent":["import {\n    GET_ALL_PRODUCT,\n    SELECTED_PRODUCT,\n    ADD_TO_CART,\n    REMOVE_FROM_CART,\n    CHANGE_CURRENCY,\n    DECREMENT_QTY,\n    GET_SINGLE_ITEM,\n    GET_LIST\n} from '../constant/actionTypes';\n\nimport Products from '../data/products';\n\nconst INIT_STATE = {\n    productItems: Products,\n    products: Products,\n    symbol: '$',\n    cart: [],\n    list: [],\n    singleItem: [],\n    search: []\n};\n\nexport default (state = INIT_STATE, action) => {\n\n    switch (action.type) {\n\n        case GET_ALL_PRODUCT:\n            return { ...state };\n\n        case GET_LIST:\n            return { ...state, productItems: Products };\n\n        case SELECTED_PRODUCT:\n            const updatedStatus = state.productItems.reduce((cartAcc, item) => {\n                if (item.id === action.payload.productId) {\n                    cartAcc.push({ ...item, status: action.payload })\n                } else {\n                    cartAcc.push(item)\n                }\n                return cartAcc;\n            }, [])\n            return { ...state, productItems: updatedStatus };\n\n        case GET_SINGLE_ITEM:\n            // eslint-disable-next-line\n            const selectedItem = state.productItems.filter(item => item.id == action.payload.productId)\n            return { ...state, singleItem: selectedItem[0] };\n\n        case ADD_TO_CART:\n            const productId = action.payload.product.id\n            if (state.cart.findIndex(product => product.id === productId) !== -1) {\n                const cart = state.cart.reduce((cartAcc, product) => {\n                    if (product.id === productId) {\n                        cartAcc.push({ ...product, qty: product.qty + 1, sum: (product.price) * (product.qty + 1) }) // Increment qty\n                    } else {\n                        cartAcc.push(product)\n                    }\n                    return cartAcc\n                }, [])\n\n                return { ...state, cart }\n            }\n\n            return { ...state, cart: [...state.cart, { ...action.payload.product, qty: action.payload.qty, sum: (action.payload.product.price) * action.payload.qty }] }\n\n        case DECREMENT_QTY:\n            if (state.cart.findIndex(product => product.id === action.productId) !== -1) {\n                const cart = state.cart.reduce((cartAcc, product) => {\n                    if (product.id === action.productId && product.qty > 1) {\n                        cartAcc.push({ ...product, qty: product.qty - 1, sum: (product.price) * (product.qty - 1) }) // Decrement qty\n                    } else {\n                        cartAcc.push(product)\n                    }\n                    return cartAcc\n                }, [])\n\n                return { ...state, cart }\n            }\n\n            return { ...state, cart: [...state.cart, { ...action.product, qty: action.qty, sum: action.product.price * action.qty }] }\n\n        case REMOVE_FROM_CART:\n            return {\n                cart: state.cart.filter(item => item.id !== action.product_id.id)\n            }\n\n        case CHANGE_CURRENCY:\n            return {\n                ...state,\n                symbol: action.symbol\n            };\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}