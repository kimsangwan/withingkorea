{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/hoc/auth.js\";\nimport Cookie from \"js-cookie\";\nimport React from \"react\";\nimport { message } from \"antd\";\nimport axios from \"axios\";\nexport default function (Component) {\n  function auth(props) {\n    // const history = useHistory()\n    if (!Cookie.get(\"token\")) {\n      props.history.push(\"/\");\n      message.error(\"관리자 로그인후에 이용해주세요\"); //   alert(\"로그인후 이용하세요\")\n    }\n\n    const token = Cookie.get(\"token\");\n    axios.post(\"/api/v1/state/tokenState\", {\n      headers: {\n        Authorization: token\n      }\n    }).then(res => {\n      if (res.data.status !== \"success\") {\n        props.history.push(\"/\");\n        message.error(\"관리자 로그인후에 이용해주세요\");\n      }\n    });\n    return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 12\n      }\n    }));\n  }\n\n  return auth;\n}","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/hoc/auth.js"],"names":["Cookie","React","message","axios","Component","auth","props","get","history","push","error","token","post","headers","Authorization","then","res","data","status"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,UAASC,SAAT,EAAoB;AACjC,WAASC,IAAT,CAAcC,KAAd,EAAqB;AACnB;AACA,QAAI,CAACN,MAAM,CAACO,GAAP,CAAW,OAAX,CAAL,EAA0B;AACxBD,MAAAA,KAAK,CAACE,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACAP,MAAAA,OAAO,CAACQ,KAAR,CAAc,kBAAd,EAFwB,CAGxB;AACD;;AACD,UAAMC,KAAK,GAAGX,MAAM,CAACO,GAAP,CAAW,OAAX,CAAd;AACAJ,IAAAA,KAAK,CACFS,IADH,CACQ,0BADR,EACoC;AAChCC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEH;AADR;AADuB,KADpC,EAMGI,IANH,CAMQC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,KAAoB,SAAxB,EAAmC;AACjCZ,QAAAA,KAAK,CAACE,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACAP,QAAAA,OAAO,CAACQ,KAAR,CAAc,kBAAd;AACD;AACF,KAXH;AAaA,wBAAO,oBAAC,SAAD,oBAAeJ,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD;;AAED,SAAOD,IAAP;AACD","sourcesContent":["import Cookie from \"js-cookie\"\nimport React from \"react\"\nimport { message } from \"antd\"\nimport axios from \"axios\"\n\nexport default function(Component) {\n  function auth(props) {\n    // const history = useHistory()\n    if (!Cookie.get(\"token\")) {\n      props.history.push(\"/\")\n      message.error(\"관리자 로그인후에 이용해주세요\")\n      //   alert(\"로그인후 이용하세요\")\n    }\n    const token = Cookie.get(\"token\")\n    axios\n      .post(\"/api/v1/state/tokenState\", {\n        headers: {\n          Authorization: token\n        }\n      })\n      .then(res => {\n        if (res.data.status !== \"success\") {\n          props.history.push(\"/\")\n          message.error(\"관리자 로그인후에 이용해주세요\")\n        }\n      })\n\n    return <Component {...props} />\n  }\n\n  return auth\n}\n"]},"metadata":{},"sourceType":"module"}