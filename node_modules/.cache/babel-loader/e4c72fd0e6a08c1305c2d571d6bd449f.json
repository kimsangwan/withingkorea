{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/util/Pagenation.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { pathExists } from \"fs-extra\";\n\nconst Pagenation = ({\n  data,\n  fn\n}) => {\n  const [per, setPer] = useState(5); // pagination initialState\n\n  const [arr, setArr] = useState([]);\n  const [page, setPage] = useState({\n    start: 0,\n    end: 10,\n    current: 1\n  }); // pagination test 를 위한 + 50\n\n  const total = Math.ceil(data.count / per);\n  const array = [];\n\n  for (let i = 0; i < total; i++) {\n    array.push(i + 1);\n  }\n\n  useEffect(() => {\n    setArr(array.slice(page.start, page.end));\n  }, [per]); // pagination ++\n\n  const onPageUp = () => {\n    if (page.current < arr[arr.length - 1]) {\n      setPage({ ...page,\n        current: page.current + 1\n      });\n    } else if (page.current % page.end === 0 && page.end < total) {\n      setPage({\n        start: page.start + 1,\n        end: page.end + 1,\n        current: page.current + 1\n      });\n      setArr(array.slice(page.start + 1, page.end + 1));\n    }\n\n    fn(page.current + 1);\n    console.log(page.current + 1);\n  };\n\n  const tenPageUP = () => {\n    const lastIndex = array.length;\n\n    if (lastIndex <= 10 && page.current <= 10) {\n      setPage({ ...page,\n        current: lastIndex\n      });\n    } else {\n      const maxIndex = array[page.current + 9];\n\n      if (maxIndex) {\n        setPage({ ...page,\n          current: maxIndex\n        });\n      } else {\n        setPage({ ...page,\n          current: lastIndex\n        });\n      }\n    }\n\n    fn(page.current);\n  }; // 음수를 체크 하고  조건에 맞을때 무조건 1페이지로 보내는 변수\n  // 마이너스 체크에 클릭된페이지가 담겨있고 Math.sign으로 음수체크\n\n\n  const tenPageDown = () => {\n    const minusCheck = page.current - 10;\n\n    if (Math.sign(minusCheck) <= 0) {\n      setPage({ ...page,\n        current: 1\n      });\n    } else {\n      setPage({ ...page,\n        current: minusCheck\n      });\n    }\n\n    fn(page.current);\n  }; // pagination --\n\n\n  const onPageDown = () => {\n    if (page.current > arr[0]) {\n      setPage({ ...page,\n        current: page.current - 1\n      });\n    } else if (page.current % arr[0] === 0 && page.start >= 1) {\n      setPage({\n        start: page.start - 1,\n        end: page.end - 1,\n        current: page.current - 1\n      });\n      setArr(array.slice(page.start - 1, page.end - 1));\n    }\n\n    fn(page.current);\n    console.log(page.current);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-pagenation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"withing-pagenation__cta btn-prev2\",\n    onClick: tenPageDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"blind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"10\\uD398\\uC774\\uC9C0 \\uC804\\uC73C\\uB85C \\uC774\\uB3D9\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"withing-pagenation__cta btn-prev\",\n    onClick: onPageDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"blind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \"\\uC774\\uC804 \\uD398\\uC774\\uC9C0\\uB85C \\uC774\\uB3D9\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-pagenation__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, array.map(a => /*#__PURE__*/React.createElement(\"a\", {\n    key: a // href=\"#\"\n    ,\n    className: `page-link ${page.current === a ? \"is-active\" : \"\"}`,\n    onClick: () => {\n      setPage({ ...page,\n        current: a\n      });\n      fn(a);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"num\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, a)))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"withing-pagenation__cta btn-next\",\n    onClick: onPageUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"blind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"\\uB2E4\\uC74C \\uD398\\uC774\\uC9C0\\uB85C \\uC774\\uB3D9\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"withing-pagenation__cta btn-next2\",\n    onClick: tenPageUP,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"blind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"10\\uD398\\uC774\\uC9C0 \\uB2E4\\uC74C\\uC73C\\uB85C \\uC774\\uB3D9\"))));\n};\n\nexport default Pagenation;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/util/Pagenation.js"],"names":["React","useState","useEffect","pathExists","Pagenation","data","fn","per","setPer","arr","setArr","page","setPage","start","end","current","total","Math","ceil","count","array","i","push","slice","onPageUp","length","console","log","tenPageUP","lastIndex","maxIndex","tenPageDown","minusCheck","sign","onPageDown","map","a"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { pathExists } from \"fs-extra\"\n\nconst Pagenation = ({ data, fn }) => {\n  const [per, setPer] = useState(5)\n  // pagination initialState\n  const [arr, setArr] = useState([])\n  const [page, setPage] = useState({\n    start: 0,\n    end: 10,\n    current: 1\n  })\n\n  // pagination test 를 위한 + 50\n  const total = Math.ceil(data.count / per)\n  const array = []\n  for (let i = 0; i < total; i++) {\n    array.push(i + 1)\n  }\n\n  useEffect(() => {\n    setArr(array.slice(page.start, page.end))\n  }, [per])\n\n  // pagination ++\n  const onPageUp = () => {\n    if (page.current < arr[arr.length - 1]) {\n      setPage({ ...page, current: page.current + 1 })\n    } else if (page.current % page.end === 0 && page.end < total) {\n      setPage({\n        start: page.start + 1,\n        end: page.end + 1,\n        current: page.current + 1\n      })\n      setArr(array.slice(page.start + 1, page.end + 1))\n    }\n    fn(page.current + 1)\n    console.log(page.current + 1)\n  }\n\n  const tenPageUP = () => {\n    const lastIndex = array.length\n\n    if (lastIndex <= 10 && page.current <= 10) {\n      setPage({ ...page, current: lastIndex })\n    } else {\n      const maxIndex = array[page.current + 9]\n      if (maxIndex) {\n        setPage({ ...page, current: maxIndex })\n      } else {\n        setPage({ ...page, current: lastIndex })\n      }\n    }\n    fn(page.current)\n  }\n\n  // 음수를 체크 하고  조건에 맞을때 무조건 1페이지로 보내는 변수\n  // 마이너스 체크에 클릭된페이지가 담겨있고 Math.sign으로 음수체크\n  const tenPageDown = () => {\n    const minusCheck = page.current - 10\n    if (Math.sign(minusCheck) <= 0) {\n      setPage({ ...page, current: 1 })\n    } else {\n      setPage({ ...page, current: minusCheck })\n    }\n    fn(page.current)\n  }\n  // pagination --\n  const onPageDown = () => {\n    if (page.current > arr[0]) {\n      setPage({ ...page, current: page.current - 1 })\n    } else if (page.current % arr[0] === 0 && page.start >= 1) {\n      setPage({\n        start: page.start - 1,\n        end: page.end - 1,\n        current: page.current - 1\n      })\n      setArr(array.slice(page.start - 1, page.end - 1))\n    }\n    fn(page.current)\n    console.log(page.current)\n  }\n\n  return (\n    <>\n      {/* <!-- [D] 리스트 8개 이상 부터 페이지네이션 기능 추가 --> */}\n      <div className=\"withing-pagenation\">\n        {/* <!-- [D] only for pc : 10페이지 단위로 이동, 처음 페이지 일 경우 및 미노출시 is-disabled 클래스명 추가 및 disabled 추가 --> */}\n        <button\n          type=\"button\"\n          className=\"withing-pagenation__cta btn-prev2\"\n          onClick={tenPageDown}\n        >\n          <span className=\"blind\">10페이지 전으로 이동</span>\n        </button>\n        <button\n          type=\"button\"\n          className=\"withing-pagenation__cta btn-prev\"\n          onClick={onPageDown}\n        >\n          <span className=\"blind\">이전 페이지로 이동</span>\n        </button>\n        <div className=\"withing-pagenation__link\">\n          {/* <!-- [D] 선택된 경우 is-active 클래스명 추가 --> */}\n          {array.map(a => (\n            <a\n              key={a}\n              // href=\"#\"\n              className={`page-link ${page.current === a ? \"is-active\" : \"\"}`}\n              onClick={() => {\n                setPage({ ...page, current: a })\n                fn(a)\n              }}\n            >\n              <span class=\"num\">{a}</span>\n            </a>\n          ))}\n        </div>\n        <button\n          type=\"button\"\n          className=\"withing-pagenation__cta btn-next\"\n          onClick={onPageUp}\n        >\n          <span className=\"blind\">다음 페이지로 이동</span>\n        </button>\n        {/* /* <!— [D] only for pc : 10페이지 단위로 이동, 마지막 페이지 일 경우 및 미노출시 is-disabled 클래스명 추가 —> */}\n        <button\n          type=\"button\"\n          className=\"withing-pagenation__cta btn-next2\"\n          onClick={tenPageUP}\n        >\n          <span className=\"blind\">10페이지 다음으로 이동</span>\n        </button>\n      </div>\n    </>\n  )\n}\n\nexport default Pagenation\n"]},"metadata":{},"sourceType":"module"}