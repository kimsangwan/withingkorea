{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/Regulation/ RegulationAdd.js\";\nimport React, { useState, useEffect } from \"react\";\nimport NewCard from \"../components/common/NewCard\";\nimport \"../assets/css/layout.css\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { message } from \"antd\";\n\nconst RegulationAdd = ({\n  history,\n  match\n}) => {\n  const [title, setTitle] = useState();\n  const [enContents, setEnContents] = useState();\n  const [zhContents, setZhContents] = useState();\n  useEffect(() => {\n    let form = new FormData();\n    console.log(match.params.id);\n    form.append(\"rule_no\", match.params.id); // 데이터 가져오기\n\n    axios.post(\"/api/v1/rule/editpage\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    }).then(function (response) {\n      console.log(response); // 데이터불러오는데 성공했는지 확인 if\n\n      setTitle(response.data.data.title);\n      setZhContents(response.data.data.zh_editor);\n      setEnContents(response.data.data.en_editor);\n      console.log(response.data.data.en_editor);\n    }); // 데이터 가져온후에 state 바인딩\n  }, []);\n\n  const onSubmithandler = async e => {\n    e.preventDefault();\n    let form = new FormData();\n    form.append(\"rule_no\", match.params.id);\n    form.append(\"title\", title);\n    form.append(\"zh_editor\", enContents);\n    form.append(\"en_editor\", zhContents);\n    const cookie = Cookie.get(\"token\");\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/v1/rule/edit\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      });\n      {\n        console.log(data);\n      }\n\n      if (data.status == \"success\") {\n        message.success(\"성공적으로 수정되었습니다.\");\n        history.push(\"/regulationlist\"); // history.push(\"/notice/guide\")\n      }\n    } catch (error) {\n      message.warning(\"수정하는데 실패했습니다.\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NewCard, {\n    title: \"\\uADDC\\uC815\\uAD00\\uB9AC\",\n    parent: \"\\uC815\\uBCF4\\uAD00\\uB9AC/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-block row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 col-lg-12 col-xl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"regulatin-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \" \\uADDC\\uC815 \\uC81C\\uBAA9\\uC785\\uB825\"), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control input-air-primary\",\n    id: \"exampleFormControlInput1\",\n    type: \"input\",\n    placeholder: \"\\uCDE8\\uC18C\\uBC0F \\uD658\\uBD88\\uADDC\\uC815\",\n    onChange: e => setTitle(e.target.value),\n    value: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-zone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, \"\\uADDC\\uC815\\uB0B4\\uC6A9 (\\uC601\\uBB38)\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control input-air-primary\",\n    onChange: e => setEnContents(e.target.value),\n    value: enContents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, \"\\uADDC\\uC815\\uB0B4\\uC6A9(\\uC911\\uBB38)\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control input-air-primary\",\n    onChange: e => setZhContents(e.target.value),\n    value: zhContents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"-guide-goods\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"btn btn-danger active\",\n    type: \"reset\",\n    defaultValue: \"\\uCD08\\uAE30\\uD654\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }), \"\\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn  btn-success\",\n    onClick: onSubmithandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, \"\\uC791\\uC131\"))))))));\n};\n\nexport default RegulationAdd;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/Regulation/ RegulationAdd.js"],"names":["React","useState","useEffect","NewCard","axios","Cookie","message","RegulationAdd","history","match","title","setTitle","enContents","setEnContents","zhContents","setZhContents","form","FormData","console","log","params","id","append","post","headers","Authorization","get","then","response","data","zh_editor","en_editor","onSubmithandler","e","preventDefault","cookie","status","success","push","error","warning","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport NewCard from \"../components/common/NewCard\"\nimport \"../assets/css/layout.css\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport { message } from \"antd\"\nconst RegulationAdd = ({ history, match }) => {\n  const [title, setTitle] = useState()\n  const [enContents, setEnContents] = useState()\n  const [zhContents, setZhContents] = useState()\n\n  useEffect(() => {\n    let form = new FormData()\n    console.log(match.params.id)\n    form.append(\"rule_no\", match.params.id)\n\n    // 데이터 가져오기\n    axios\n      .post(\"/api/v1/rule/editpage\", form, {\n        headers: { Authorization: Cookie.get(\"token\") }\n      })\n      .then(function(response) {\n        console.log(response)\n        // 데이터불러오는데 성공했는지 확인 if\n        setTitle(response.data.data.title)\n        setZhContents(response.data.data.zh_editor)\n        setEnContents(response.data.data.en_editor)\n        console.log(response.data.data.en_editor)\n      })\n    // 데이터 가져온후에 state 바인딩\n  }, [])\n\n  const onSubmithandler = async e => {\n    e.preventDefault()\n\n    let form = new FormData()\n    form.append(\"rule_no\", match.params.id)\n    form.append(\"title\", title)\n    form.append(\"zh_editor\", enContents)\n    form.append(\"en_editor\", zhContents)\n\n    const cookie = Cookie.get(\"token\")\n\n    try {\n      const { data } = await axios.post(\"/api/v1/rule/edit\", form, {\n        headers: {\n          Authorization: cookie\n        }\n      })\n      {\n        console.log(data)\n      }\n      if (data.status == \"success\") {\n        message.success(\"성공적으로 수정되었습니다.\")\n        history.push(\"/regulationlist\")\n        // history.push(\"/notice/guide\")\n      }\n    } catch (error) {\n      message.warning(\"수정하는데 실패했습니다.\")\n    }\n  }\n  return (\n    <>\n      <NewCard title=\"규정관리\" parent=\"정보관리/\">\n        <div className=\"card-block row\">\n          <div className=\"col-sm-12 col-lg-12 col-xl-12\">\n            <form>\n              <div className=\"regulatin-title\">\n                <h5> 규정 제목입력</h5>\n                <input\n                  class=\"form-control input-air-primary\"\n                  id=\"exampleFormControlInput1\"\n                  type=\"input\"\n                  placeholder=\"취소및 환불규정\"\n                  onChange={e => setTitle(e.target.value)}\n                  value={title}\n                />\n                <p />\n              </div>\n              <div className=\"text-zone\">\n                <div>\n                  <h5>규정내용 (영문)</h5>\n                  <textarea\n                    className=\"form-control input-air-primary\"\n                    onChange={e => setEnContents(e.target.value)}\n                    value={enContents}\n                  />\n                </div>\n                <div>\n                  <h5>규정내용(중문)</h5>\n                  <textarea\n                    className=\"form-control input-air-primary\"\n                    onChange={e => setZhContents(e.target.value)}\n                    value={zhContents}\n                  />\n                </div>\n                <div className=\"-guide-goods\">\n                  <input\n                    className=\"btn btn-danger active\"\n                    type=\"reset\"\n                    defaultValue=\"초기화\"\n                  />\n                  &nbsp;\n                  <button\n                    className=\"btn \n              btn-success\"\n                    onClick={onSubmithandler}\n                  >\n                    작성\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </NewCard>\n    </>\n  )\n}\n\nexport default RegulationAdd\n"]},"metadata":{},"sourceType":"module"}