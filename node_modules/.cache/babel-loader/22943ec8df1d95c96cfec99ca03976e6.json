{"ast":null,"code":"var Weakmap = require(\"weakmap\");\n\nvar Individual = require(\"individual\");\n\nvar datasetMap = Individual(\"__DATA_SET_WEAKMAP\", Weakmap());\nmodule.exports = DataSet;\n\nfunction DataSet(elem) {\n  if (elem.dataset) {\n    return elem.dataset;\n  }\n\n  var hash = datasetMap.get(elem);\n\n  if (!hash) {\n    hash = createHash(elem);\n    datasetMap.set(elem, hash);\n  }\n\n  return hash;\n}\n\nfunction createHash(elem) {\n  var attributes = elem.attributes;\n  var hash = {};\n\n  if (attributes === null || attributes === undefined) {\n    return hash;\n  }\n\n  for (var i = 0; i < attributes.length; i++) {\n    var attr = attributes[i];\n\n    if (attr.name.substr(0, 5) !== \"data-\") {\n      continue;\n    }\n\n    hash[attr.name.substr(5)] = attr.value;\n  }\n\n  return hash;\n}","map":null,"metadata":{},"sourceType":"script"}