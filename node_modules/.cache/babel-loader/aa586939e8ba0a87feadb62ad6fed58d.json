{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/GuideGoods/GuideGoodsReview.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { useHistory } from \"react-router-dom\";\nimport Pagenation from \"../util/Pagenation\";\n\nconst GuideGoodsReview = props => {\n  const [nomalList, setNomalList] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    setNomalList(props.reviewList.lists);\n  }, [props.reviewList]);\n\n  const fn = async d => {\n    let form = new FormData();\n    form.append(\"index\", d);\n    form.append(\"product_no\", props.productNo);\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/v1/product/review\", form, {\n        headers: {\n          Authorization: Cookie.get(\"token\")\n        }\n      });\n\n      if (data.status == \"success\") {\n        setNomalList(data.data.list);\n        console.log(setNomalList);\n      }\n    } catch (error) {\n      alert(\"작성하는데 실패했습니다.\");\n    } // 이전 다음 페이지를 위한 api호출\n    // axios로 서버 통신\n    // success시 nomalList 업데이트\n\n  };\n\n  const onNobtn = () => {\n    const rejectMessage = prompt(\"거절사유\", \"입력바랍니다.\");\n    let form = new FormData();\n    form.append(\"guide_no\", props.productNo);\n    form.append(\"comment\", rejectMessage);\n    form.append(\"status\", \"REJECT\");\n    axios.post(\"/api/v1/guide/status\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    }).then(response => {\n      console.log(response);\n\n      if (response.data.status === \"success\") {\n        alert(\"거절되었습니다\");\n        history.push(\"/guidelist\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"withing-product-detail__desc-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"\\uD6C4\\uAE30\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-product-detail__review\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"withing-product-detail__review-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, nomalList ? /*#__PURE__*/React.createElement(React.Fragment, null, nomalList.map(reviewlists => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"withing-product-detail__review-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-product-detail__review-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-product-detail__review-num\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"c-num\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 23\n    }\n  }, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-product-detail__review-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"c-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 23\n    }\n  }, reviewlists.registered)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-product-detail__review-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"c-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }\n  }, reviewlists.nickname)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-product-detail__review-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"c-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 23\n    }\n  }, reviewlists.comment)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withing-product-detail__review-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    className: \"c-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://ps-service-the-build.s3.ap-northeast-2.amazonaws.com/res/gf_2020_08_27_17_44_26_66_846.jpg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  })))))), /*#__PURE__*/React.createElement(Pagenation, {\n    data: props.reviewList,\n    fn: fn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  })) : \"\")));\n};\n\nexport default GuideGoodsReview;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/GuideGoods/GuideGoodsReview.js"],"names":["React","useState","useEffect","axios","Cookie","useHistory","Pagenation","GuideGoodsReview","props","nomalList","setNomalList","history","reviewList","lists","fn","d","form","FormData","append","productNo","data","post","headers","Authorization","get","status","list","console","log","error","alert","onNobtn","rejectMessage","prompt","then","response","push","map","reviewlists","registered","nickname","comment"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport { useHistory } from \"react-router-dom\"\nimport Pagenation from \"../util/Pagenation\"\nconst GuideGoodsReview = props => {\n  const [nomalList, setNomalList] = useState([])\n  const history = useHistory()\n\n  useEffect(() => {\n    setNomalList(props.reviewList.lists)\n  }, [props.reviewList])\n\n  const fn = async d => {\n    let form = new FormData()\n    form.append(\"index\", d)\n    form.append(\"product_no\", props.productNo)\n\n    try {\n      const { data } = await axios.post(\"/api/v1/product/review\", form, {\n        headers: {\n          Authorization: Cookie.get(\"token\")\n        }\n      })\n\n      if (data.status == \"success\") {\n        setNomalList(data.data.list)\n        console.log(setNomalList)\n      }\n    } catch (error) {\n      alert(\"작성하는데 실패했습니다.\")\n    }\n\n    // 이전 다음 페이지를 위한 api호출\n    // axios로 서버 통신\n    // success시 nomalList 업데이트\n  }\n  const onNobtn = () => {\n    const rejectMessage = prompt(\"거절사유\", \"입력바랍니다.\")\n    let form = new FormData()\n    form.append(\"guide_no\", props.productNo)\n    form.append(\"comment\", rejectMessage)\n    form.append(\"status\", \"REJECT\")\n    axios\n      .post(\"/api/v1/guide/status\", form, {\n        headers: { Authorization: Cookie.get(\"token\") }\n      })\n      .then(response => {\n        console.log(response)\n        if (response.data.status === \"success\") {\n          alert(\"거절되었습니다\")\n          history.push(\"/guidelist\")\n        }\n      })\n  }\n\n  return (\n    <div>\n      <h4 className=\"withing-product-detail__desc-title\">후기</h4>\n      <div className=\"withing-product-detail__review\">\n        <ul className=\"withing-product-detail__review-list\">\n          {nomalList ? (\n            <>\n              {nomalList.map(reviewlists => (\n                <li className=\"withing-product-detail__review-item\">\n                  <div className=\"withing-product-detail__review-link\">\n                    <div className=\"withing-product-detail__review-num\">\n                      <span className=\"c-num\"> </span>\n                    </div>\n                    <div className=\"withing-product-detail__review-date\">\n                      <span className=\"c-date\">{reviewlists.registered}</span>\n                    </div>\n                    <div className=\"withing-product-detail__review-name\">\n                      <span className=\"c-name\">{reviewlists.nickname}</span>\n                    </div>\n                    <div className=\"withing-product-detail__review-text\">\n                      <p className=\"c-text\">{reviewlists.comment}</p>\n                    </div>\n                    <div className=\"withing-product-detail__review-img\">\n                      <a href=\"#\" className=\"c-img\">\n                        <img\n                          src={\n                            \"https://ps-service-the-build.s3.ap-northeast-2.amazonaws.com/res/gf_2020_08_27_17_44_26_66_846.jpg\"\n                          }\n                          alt=\"\"\n                        />\n                      </a>\n                    </div>\n                  </div>\n                </li>\n              ))}\n\n              <Pagenation data={props.reviewList} fn={fn} />\n            </>\n          ) : (\n            \"\"\n          )}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default GuideGoodsReview\n"]},"metadata":{},"sourceType":"module"}