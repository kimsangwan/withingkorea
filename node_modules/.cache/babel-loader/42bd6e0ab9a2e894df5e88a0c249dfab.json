{"ast":null,"code":"var _jsxFileName = \"/Users/gimsang-wan/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u110C\\u116E\\u11BC/Withing_admin/src/toastEditor/ToastEditor.js\";\nimport React, { useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"@toast-ui/editor/dist/toastui-editor.css\";\nimport { Editor } from \"@toast-ui/react-editor\";\n\nconst ToastEditor = props => {\n  const editorRef = useRef();\n\n  const onChangeHandler = () => {\n    const content = editorRef.current.getInstance().getHtml();\n\n    if (props.value) {\n      props.editorContent(content, props.value);\n    } else {\n      props.editorContent(content);\n    }\n  };\n\n  const imageHandler = async (file, callback) => {\n    // 파일 업로드\n    const form = new FormData();\n    form.append(\"type\", \"A\");\n    form.append(\"file\", file);\n    const {\n      data\n    } = await axios.post(\"/api/v1/File/uploadFile\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    });\n    callback(data.data);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Editor // data={\"ajshjsdjhsdhjsdhj\"}\n  , {\n    initialValue: \"\",\n    previewStyle: \"vertical\",\n    height: \"400px\",\n    initialEditType: \"wysiwyg\",\n    useCommandShortcut: true,\n    exts: [{\n      name: \"chart\",\n      minWidth: 100,\n      maxWidth: 600,\n      minHeight: 100,\n      maxHeight: 300,\n      height: \"\"\n    }, \"scrollSync\", \"colorSyntax\", \"uml\", \"mark\", \"table\"],\n    onChange: onChangeHandler,\n    ref: editorRef,\n    hooks: {\n      addImageBlobHook: imageHandler\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ToastEditor;","map":{"version":3,"sources":["/Users/gimsang-wan/Desktop/작업중/Withing_admin/src/toastEditor/ToastEditor.js"],"names":["React","useRef","useState","axios","Cookie","Editor","ToastEditor","props","editorRef","onChangeHandler","content","current","getInstance","getHtml","value","editorContent","imageHandler","file","callback","form","FormData","append","data","post","headers","Authorization","get","name","minWidth","maxWidth","minHeight","maxHeight","height","addImageBlobHook"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,+BAAP;AACA,OAAO,0CAAP;AAEA,SAASC,MAAT,QAAuB,wBAAvB;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAC3B,QAAMC,SAAS,GAAGP,MAAM,EAAxB;;AAEA,QAAMQ,eAAe,GAAG,MAAM;AAC5B,UAAMC,OAAO,GAAGF,SAAS,CAACG,OAAV,CAAkBC,WAAlB,GAAgCC,OAAhC,EAAhB;;AAEA,QAAIN,KAAK,CAACO,KAAV,EAAiB;AACfP,MAAAA,KAAK,CAACQ,aAAN,CAAoBL,OAApB,EAA6BH,KAAK,CAACO,KAAnC;AACD,KAFD,MAEO;AACLP,MAAAA,KAAK,CAACQ,aAAN,CAAoBL,OAApB;AACD;AACF,GARD;;AAUA,QAAMM,YAAY,GAAG,OAAOC,IAAP,EAAaC,QAAb,KAA0B;AAC7C;AACA,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoB,GAApB;AACAF,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBJ,IAApB;AAEA,UAAM;AAAEK,MAAAA;AAAF,QAAW,MAAMnB,KAAK,CAACoB,IAAN,CAAW,yBAAX,EAAsCJ,IAAtC,EAA4C;AACjEK,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAErB,MAAM,CAACsB,GAAP,CAAW,OAAX;AADR;AADwD,KAA5C,CAAvB;AAMAR,IAAAA,QAAQ,CAACI,IAAI,CAACA,IAAN,CAAR;AACD,GAbD;;AAeA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD,CACE;AADF;AAEE,IAAA,YAAY,EAAC,EAFf;AAGE,IAAA,YAAY,EAAC,UAHf;AAIE,IAAA,MAAM,EAAC,OAJT;AAKE,IAAA,eAAe,EAAC,SALlB;AAME,IAAA,kBAAkB,EAAE,IANtB;AAOE,IAAA,IAAI,EAAE,CACJ;AACEK,MAAAA,IAAI,EAAE,OADR;AAEEC,MAAAA,QAAQ,EAAE,GAFZ;AAGEC,MAAAA,QAAQ,EAAE,GAHZ;AAIEC,MAAAA,SAAS,EAAE,GAJb;AAKEC,MAAAA,SAAS,EAAE,GALb;AAMEC,MAAAA,MAAM,EAAE;AANV,KADI,EASJ,YATI,EAUJ,aAVI,EAWJ,KAXI,EAYJ,MAZI,EAaJ,OAbI,CAPR;AAsBE,IAAA,QAAQ,EAAEvB,eAtBZ;AAuBE,IAAA,GAAG,EAAED,SAvBP;AAwBE,IAAA,KAAK,EAAE;AACLyB,MAAAA,gBAAgB,EAAEjB;AADb,KAxBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAgCD,CA5DD;;AA8DA,eAAeV,WAAf","sourcesContent":["import React, { useRef, useState } from \"react\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport \"codemirror/lib/codemirror.css\"\nimport \"@toast-ui/editor/dist/toastui-editor.css\"\n\nimport { Editor } from \"@toast-ui/react-editor\"\n\nconst ToastEditor = props => {\n  const editorRef = useRef()\n\n  const onChangeHandler = () => {\n    const content = editorRef.current.getInstance().getHtml()\n\n    if (props.value) {\n      props.editorContent(content, props.value)\n    } else {\n      props.editorContent(content)\n    }\n  }\n\n  const imageHandler = async (file, callback) => {\n    // 파일 업로드\n    const form = new FormData()\n    form.append(\"type\", \"A\")\n    form.append(\"file\", file)\n\n    const { data } = await axios.post(\"/api/v1/File/uploadFile\", form, {\n      headers: {\n        Authorization: Cookie.get(\"token\")\n      }\n    })\n\n    callback(data.data)\n  }\n\n  return (\n    <div>\n      <Editor\n        // data={\"ajshjsdjhsdhjsdhj\"}\n        initialValue=\"\"\n        previewStyle=\"vertical\"\n        height=\"400px\"\n        initialEditType=\"wysiwyg\"\n        useCommandShortcut={true}\n        exts={[\n          {\n            name: \"chart\",\n            minWidth: 100,\n            maxWidth: 600,\n            minHeight: 100,\n            maxHeight: 300,\n            height: \"\"\n          },\n          \"scrollSync\",\n          \"colorSyntax\",\n          \"uml\",\n          \"mark\",\n          \"table\"\n        ]}\n        onChange={onChangeHandler}\n        ref={editorRef}\n        hooks={{\n          addImageBlobHook: imageHandler\n        }}\n      />\n    </div>\n  )\n}\n\nexport default ToastEditor\n"]},"metadata":{},"sourceType":"module"}